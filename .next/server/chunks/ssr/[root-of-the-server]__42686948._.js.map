{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../node_modules/next/src/client/components/handle-isr-error.tsx","../../../../node_modules/next/src/client/components/builtin/global-error.tsx","../../../../src/components/sonos-provider.tsx","../../../../src/components/device-provider.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","const workAsyncStorage =\n  typeof window === 'undefined'\n    ? (\n        require('../../server/app-render/work-async-storage.external') as typeof import('../../server/app-render/work-async-storage.external')\n      ).workAsyncStorage\n    : undefined\n\n// if we are revalidating we want to re-throw the error so the\n// function crashes so we can maintain our previous cache\n// instead of caching the error page\nexport function HandleISRError({ error }: { error: any }) {\n  if (workAsyncStorage) {\n    const store = workAsyncStorage.getStore()\n    if (store?.isStaticGeneration) {\n      if (error) {\n        console.error(error)\n      }\n      throw error\n    }\n  }\n\n  return null\n}\n","'use client'\n\nimport { HandleISRError } from '../handle-isr-error'\n\nconst styles = {\n  error: {\n    // https://github.com/sindresorhus/modern-normalize/blob/main/modern-normalize.css#L38-L52\n    fontFamily:\n      'system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"',\n    height: '100vh',\n    textAlign: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  text: {\n    fontSize: '14px',\n    fontWeight: 400,\n    lineHeight: '28px',\n    margin: '0 8px',\n  },\n} as const\n\nexport type GlobalErrorComponent = React.ComponentType<{\n  error: any\n}>\nfunction DefaultGlobalError({ error }: { error: any }) {\n  const digest: string | undefined = error?.digest\n  return (\n    <html id=\"__next_error__\">\n      <head></head>\n      <body>\n        <HandleISRError error={error} />\n        <div style={styles.error}>\n          <div>\n            <h2 style={styles.text}>\n              Application error: a {digest ? 'server' : 'client'}-side exception\n              has occurred while loading {window.location.hostname} (see the{' '}\n              {digest ? 'server logs' : 'browser console'} for more\n              information).\n            </h2>\n            {digest ? <p style={styles.text}>{`Digest: ${digest}`}</p> : null}\n          </div>\n        </div>\n      </body>\n    </html>\n  )\n}\n\n// Exported so that the import signature in the loaders can be identical to user\n// supplied custom global error signatures.\nexport default DefaultGlobalError\n","\"use client\";\n\nimport React, { createContext, useContext, useEffect, useState, useRef, useCallback } from \"react\";\n\ninterface SonosContextType {\n  households: any[];\n  groups: any[];\n  favorites: any[];\n  currentGroup: any | null;\n  playbackState: any | null;\n  volume: number;\n  isExpanded: boolean;\n  currentPage: string;\n  selectedZoneIds: string[];\n  setIsExpanded: (expanded: boolean) => void;\n  setCurrentPage: (page: string) => void;\n  setCurrentGroup: (group: any) => void;\n  setVolume: (volume: number) => Promise<void>;\n  setSelectedZoneIds: (zoneIds: string[]) => void;\n  toggleZone: (zoneId: string) => void;\n  refreshState: () => Promise<void>;\n}\n\nconst SonosContext = createContext<SonosContextType | undefined>(undefined);\n\n// Helper to compare arrays/objects for equality\nfunction deepEqual(a: any, b: any): boolean {\n  if (a === b) return true;\n  if (a == null || b == null) return false;\n  if (typeof a !== \"object\" || typeof b !== \"object\") return false;\n  \n  const keysA = Object.keys(a);\n  const keysB = Object.keys(b);\n  \n  if (keysA.length !== keysB.length) return false;\n  \n  for (const key of keysA) {\n    if (!keysB.includes(key)) return false;\n    if (!deepEqual(a[key], b[key])) return false;\n  }\n  \n  return true;\n}\n\nexport function SonosProvider({ children }: { children: React.ReactNode }) {\n  const [households, setHouseholds] = useState<any[]>([]);\n  const [groups, setGroups] = useState<any[]>([]);\n  const [favorites, setFavorites] = useState<any[]>([]);\n  const [currentGroup, setCurrentGroup] = useState<any | null>(null);\n  const [playbackState, setPlaybackState] = useState<any | null>(null);\n  const [volume, setVolumeState] = useState<number>(50);\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [currentPage, setCurrentPage] = useState<string>(\"Feed\");\n  const [selectedZoneIds, setSelectedZoneIds] = useState<string[]>([]);\n  \n  const isRefreshingRef = useRef(false);\n  const currentGroupIdRef = useRef<string | null>(null);\n  const currentGroupRef = useRef<any | null>(null);\n  const prevStateRef = useRef<{\n    households: any[];\n    groups: any[];\n    favorites: any[];\n    playbackState: any | null;\n    volume: number;\n  }>({\n    households: [],\n    groups: [],\n    favorites: [],\n    playbackState: null,\n    volume: 50,\n  });\n\n  // Keep ref in sync with state\n  useEffect(() => {\n    currentGroupRef.current = currentGroup;\n  }, [currentGroup]);\n\n  // Save current zone preference\n  const saveZonePreference = useCallback(async (zoneId: string) => {\n    try {\n      await fetch(\"/api/preferences\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ key: \"currentZoneId\", value: zoneId }),\n      });\n    } catch (error) {\n      console.error(\"Failed to save zone preference:\", error);\n    }\n  }, []);\n\n  // Save selected zones preference\n  const saveSelectedZonesPreference = useCallback(async (zoneIds: string[]) => {\n    try {\n      await fetch(\"/api/preferences\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ \n          key: \"selectedZoneIds\", \n          value: JSON.stringify(zoneIds) \n        }),\n      });\n    } catch (error) {\n      console.error(\"Failed to save selected zones preference:\", error);\n    }\n  }, []);\n\n  // Load saved zone preference\n  const loadZonePreference = useCallback(async (): Promise<string | null> => {\n    try {\n      const res = await fetch(\"/api/preferences?key=currentZoneId\");\n      if (res.ok) {\n        const data = await res.json();\n        return data.value;\n      }\n    } catch (error) {\n      console.error(\"Failed to load zone preference:\", error);\n    }\n    return null;\n  }, []);\n\n  // Load saved selected zones preference\n  const loadSelectedZonesPreference = useCallback(async (): Promise<string[]> => {\n    try {\n      const res = await fetch(\"/api/preferences?key=selectedZoneIds\");\n      if (res.ok) {\n        const data = await res.json();\n        if (data.value) {\n          return JSON.parse(data.value);\n        }\n      }\n    } catch (error) {\n      console.error(\"Failed to load selected zones preference:\", error);\n    }\n    return [];\n  }, []);\n\n  const refreshState = useCallback(async () => {\n    // Prevent overlapping refresh calls\n    if (isRefreshingRef.current) return;\n    isRefreshingRef.current = true;\n\n    try {\n      const res = await fetch(\"/api/sonos/state\");\n      if (!res.ok) return;\n      const data = await res.json();\n      \n      // Only update households if changed\n      if (!deepEqual(prevStateRef.current.households, data.households || [])) {\n        setHouseholds(data.households || []);\n        prevStateRef.current.households = data.households || [];\n      }\n      \n      // Stable sort for groups to prevent jumping UI\n      const sortedGroups = (data.groups || []).sort((a: any, b: any) => \n        a.name.localeCompare(b.name)\n      );\n      \n      // Only update groups if changed\n      if (!deepEqual(prevStateRef.current.groups, sortedGroups)) {\n        setGroups(sortedGroups);\n        prevStateRef.current.groups = sortedGroups;\n      }\n      \n      // Stable sort for favorites\n      const sortedFavorites = (data.favorites || []).sort((a: any, b: any) => \n        a.name.localeCompare(b.name)\n      );\n      \n      // Only update favorites if changed\n      if (!deepEqual(prevStateRef.current.favorites, sortedFavorites)) {\n        setFavorites(sortedFavorites);\n        prevStateRef.current.favorites = sortedFavorites;\n      }\n      \n      const currentGroupValue = currentGroupRef.current;\n      if (!currentGroupValue && data.groups?.length > 0) {\n        // Try to load saved zone preferences first\n        const savedZoneId = await loadZonePreference();\n        const savedSelectedZoneIds = await loadSelectedZonesPreference();\n        \n        let targetGroup = null;\n        \n        // Try to restore saved selected zones if they exist\n        if (savedSelectedZoneIds.length > 0) {\n          // Filter to only include zones that still exist\n          const validZoneIds = savedSelectedZoneIds.filter((id: string) => \n            data.groups.some((g: any) => g.id === id)\n          );\n          \n          if (validZoneIds.length > 0) {\n            setSelectedZoneIds(validZoneIds);\n            // Set current group to first selected zone\n            targetGroup = data.groups.find((g: any) => g.id === validZoneIds[0]);\n          }\n        }\n        \n        // If no saved selected zones, try saved current zone\n        if (!targetGroup && savedZoneId) {\n          targetGroup = data.groups.find((g: any) => g.id === savedZoneId);\n        }\n        \n        // Use saved zone if found, otherwise use first group\n        const firstGroup = targetGroup || data.groups[0];\n        setCurrentGroup(firstGroup);\n        // Initialize selectedZoneIds if not already set from saved preference\n        if (savedSelectedZoneIds.length === 0) {\n          setSelectedZoneIds([firstGroup.id]);\n        }\n      } else if (currentGroupValue) {\n        // Update current group state from fresh groups list\n        const updatedGroup = data.groups.find((g: any) => g.id === currentGroupValue.id);\n        if (updatedGroup && !deepEqual(currentGroupValue, updatedGroup)) {\n          setCurrentGroup(updatedGroup);\n          // Ensure selectedZoneIds includes the current group\n          if (!selectedZoneIds.includes(updatedGroup.id)) {\n            setSelectedZoneIds([updatedGroup.id]);\n          }\n        } else if (!updatedGroup) {\n          // Current group no longer exists, try to load saved preference or use first group\n          const savedZoneId = await loadZonePreference();\n          let targetGroup = null;\n          \n          if (savedZoneId) {\n            targetGroup = data.groups.find((g: any) => g.id === savedZoneId);\n          }\n          \n          const fallbackGroup = targetGroup || data.groups[0];\n          if (fallbackGroup) {\n            setCurrentGroup(fallbackGroup);\n            setSelectedZoneIds([fallbackGroup.id]);\n          }\n        }\n      }\n\n      // Always fetch playback and volume if we have a group\n      const groupId = currentGroupValue?.id;\n      if (groupId) {\n        // Update group ID ref if changed\n        if (groupId !== currentGroupIdRef.current) {\n          currentGroupIdRef.current = groupId;\n        }\n        \n        const [pbRes, volRes] = await Promise.all([\n          fetch(`/api/sonos/playback?groupId=${groupId}`),\n          fetch(`/api/sonos/volume?groupId=${groupId}`)\n        ]);\n        \n        // Handle ERROR_RESOURCE_GONE - group was modified/ungrouped\n        if (pbRes.status === 410 || volRes.status === 410) {\n          // Group no longer exists, refresh groups and find new current group\n          const stateRes = await fetch(\"/api/sonos/state\");\n          if (stateRes.ok) {\n            const stateData = await stateRes.json();\n            const updatedGroups = (stateData.groups || []).sort((a: any, b: any) => \n              a.name.localeCompare(b.name)\n            );\n            setGroups(updatedGroups);\n            \n            // Try to find group by name or use first available\n            const oldGroupName = currentGroupValue?.name;\n            const newGroup = oldGroupName \n              ? updatedGroups.find((g: any) => g.name === oldGroupName)\n              : updatedGroups[0];\n            \n            if (newGroup) {\n              setCurrentGroup(newGroup);\n              // Update selectedZoneIds to match new group\n              if (selectedZoneIds.includes(currentGroupValue.id)) {\n                setSelectedZoneIds([newGroup.id]);\n              }\n            } else if (updatedGroups.length > 0) {\n              setCurrentGroup(updatedGroups[0]);\n              setSelectedZoneIds([updatedGroups[0].id]);\n            }\n          }\n          return; // Exit early, will refresh on next poll\n        }\n        \n        if (pbRes.ok) {\n          const pbData = await pbRes.json();\n          // Always update playback state (don't check for changes to ensure UI updates)\n          setPlaybackState(pbData);\n          prevStateRef.current.playbackState = pbData;\n        }\n        \n        if (volRes.ok) {\n          const volData = await volRes.json();\n          const newVolume = volData.volume || 50;\n          // Always update volume state\n          setVolumeState(newVolume);\n          prevStateRef.current.volume = newVolume;\n        }\n      }\n    } catch (err) {\n      console.error(\"Failed to fetch Sonos state\", err);\n    } finally {\n      isRefreshingRef.current = false;\n    }\n  }, [loadZonePreference, loadSelectedZonesPreference]);\n\n  const setVolume = async (newVolume: number) => {\n    if (!currentGroup) return;\n    setVolumeState(newVolume);\n    const res = await fetch(`/api/sonos/control?groupId=${currentGroup.id}&volume=${newVolume}`, { method: \"POST\" });\n    if (res.status === 410) {\n      // Group no longer exists, refresh state\n      await refreshState();\n    }\n  };\n\n  // Initial load\n  useEffect(() => {\n    refreshState();\n  }, []);\n\n  // Set up polling interval (independent of state changes)\n  useEffect(() => {\n    // Poll every 10 seconds - less frequent updates\n    const interval = setInterval(() => {\n      refreshState();\n    }, 10000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Refresh when group changes\n  useEffect(() => {\n    if (currentGroup?.id) {\n      refreshState();\n    }\n  }, [currentGroup?.id]);\n\n  // Keep selected zones in sync with current group and save preferences\n  useEffect(() => {\n    if (currentGroup?.id) {\n      // If no zones selected, or current group is not in selected zones, update it\n      if (selectedZoneIds.length === 0 || !selectedZoneIds.includes(currentGroup.id)) {\n        setSelectedZoneIds([currentGroup.id]);\n      }\n      // Save zone preference to database\n      saveZonePreference(currentGroup.id);\n    }\n  }, [currentGroup?.id, saveZonePreference]);\n\n  // Save selected zones preference whenever it changes\n  useEffect(() => {\n    if (selectedZoneIds.length > 0) {\n      saveSelectedZonesPreference(selectedZoneIds);\n    }\n  }, [selectedZoneIds, saveSelectedZonesPreference]);\n\n  const toggleZone = (zoneId: string) => {\n    setSelectedZoneIds(prev => {\n      if (prev.includes(zoneId)) {\n        return prev.filter(id => id !== zoneId);\n      } else {\n        return [...prev, zoneId];\n      }\n    });\n  };\n\n  return (\n    <SonosContext.Provider\n      value={{\n        households,\n        groups,\n        favorites,\n        currentGroup,\n        playbackState,\n        volume,\n        isExpanded,\n        currentPage,\n        selectedZoneIds,\n        setIsExpanded,\n        setCurrentPage,\n        setCurrentGroup,\n        setVolume,\n        setSelectedZoneIds,\n        toggleZone,\n        refreshState,\n      }}\n    >\n      {children}\n    </SonosContext.Provider>\n  );\n}\n\nexport function useSonos() {\n  const context = useContext(SonosContext);\n  if (context === undefined) {\n    throw new Error(\"useSonos must be used within a SonosProvider\");\n  }\n  return context;\n}\n","\"use client\";\n\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ntype DeviceType = \"theWall\" | \"theDesk\" | null;\n\ninterface DeviceContextType {\n  deviceType: DeviceType;\n  isLoading: boolean;\n  deviceConfig: {\n    name: string;\n    screenSize: string;\n    resolution: string;\n    orientation: \"landscape\" | \"portrait\";\n  } | null;\n  // Utility function to get device-specific classes\n  deviceClass: (classes: string | { [key: string]: string }) => string;\n}\n\nconst DeviceContext = createContext<DeviceContextType | undefined>(undefined);\n\nconst DEVICE_CONFIGS = {\n  theWall: {\n    name: \"TheWall\",\n    screenSize: \"10.1\\\"\",\n    resolution: \"1280×800\",\n    orientation: \"landscape\" as const,\n  },\n  theDesk: {\n    name: \"TheDesk\",\n    screenSize: \"10.1\\\"\",\n    resolution: \"1280×800\",\n    orientation: \"landscape\" as const,\n  },\n};\n\nexport function DeviceProvider({ children }: { children: React.ReactNode }) {\n  const [deviceType, setDeviceType] = useState<DeviceType>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const loadDevice = async () => {\n      try {\n        const res = await fetch(\"/api/preferences?key=deviceType\");\n        if (res.ok) {\n          const data = await res.json();\n          if (data.value && (data.value === \"theWall\" || data.value === \"theDesk\")) {\n            setDeviceType(data.value);\n          }\n        }\n      } catch (error) {\n        console.error(\"Failed to load device preference:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    loadDevice();\n  }, []);\n\n  const deviceConfig = deviceType ? DEVICE_CONFIGS[deviceType] : null;\n\n  // Utility function to get device-specific classes\n  const deviceClass = (classes: string | { [key: string]: string }): string => {\n    if (!deviceType) return typeof classes === \"string\" ? classes : \"\";\n    \n    if (typeof classes === \"string\") {\n      // If it's a string, return as-is (device-specific overrides can be added via CSS)\n      return classes;\n    }\n    \n    // If it's an object, return the class for the current device\n    return classes[deviceType] || classes.default || \"\";\n  };\n\n  // Apply device-specific class to html element for CSS targeting\n  useEffect(() => {\n    if (deviceType) {\n      document.documentElement.setAttribute(\"data-device\", deviceType);\n    } else {\n      document.documentElement.removeAttribute(\"data-device\");\n    }\n  }, [deviceType]);\n\n  return (\n    <DeviceContext.Provider value={{ deviceType, isLoading, deviceConfig, deviceClass }}>\n      {children}\n    </DeviceContext.Provider>\n  );\n}\n\nexport function useDevice() {\n  const context = useContext(DeviceContext);\n  if (context === undefined) {\n    throw new Error(\"useDevice must be used within a DeviceProvider\");\n  }\n  return context;\n}\n"],"names":["module","exports","require","vendored","ReactDOM","HooksClientContext","ServerInsertedHtml","process","env","NEXT_RUNTIME","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","ReactJsxRuntime","React","AppRouterContext","ReactServerDOMTurbopackClient","HandleISRError","workAsyncStorage","window","undefined","error","store","getStore","isStaticGeneration","console","styles","fontFamily","height","textAlign","display","flexDirection","alignItems","justifyContent","text","fontSize","fontWeight","lineHeight","margin","DefaultGlobalError","digest","html","id","head","body","div","style","h2","location","hostname","p"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9]}