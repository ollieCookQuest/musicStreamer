{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/ollie/Documents/dev/musicStreamer/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///Users/ollie/Documents/dev/musicStreamer/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,ySACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///Users/ollie/Documents/dev/musicStreamer/src/components/dashboard/zone-selector.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSonos } from \"@/components/sonos-provider\";\nimport { Button } from \"@/components/ui/button\";\nimport { Radio, Heart, Compass, Layout, Waves, Settings } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { motion } from \"framer-motion\";\n\nconst NAV_ITEMS = [\n  { icon: Compass, label: \"Feed\", page: \"Feed\" },\n  { icon: Layout, label: \"Library\", page: \"Library\" },\n  { icon: Radio, label: \"Broadcast\", page: \"Broadcast\" },\n  { icon: Heart, label: \"Curated\", page: \"Curated\" },\n  { icon: Settings, label: \"Settings\", page: \"Settings\" },\n];\n\nexport function ZoneSelector({ isCollapsed }: { isCollapsed: boolean }) {\n  const { groups, currentGroup, setCurrentGroup, currentPage, setCurrentPage } = useSonos();\n\n  return (\n    <div className=\"flex flex-col h-full space-y-10 py-2\">\n      {/* Primary Navigation */}\n      <div className=\"space-y-4\">\n        <h3 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-foreground opacity-20 px-6\">\n          System\n        </h3>\n        <nav className=\"space-y-1 px-2\">\n          {NAV_ITEMS.map((item) => {\n            const isActive = currentPage === item.page;\n            return (\n              <Button\n                key={item.label}\n                variant=\"ghost\"\n                onClick={() => setCurrentPage(item.page)}\n                className={cn(\n                  \"w-full h-12 rounded-2xl transition-all duration-300 flex items-center justify-start px-4 group relative\",\n                  isActive \n                    ? \"bg-foreground/[0.05] text-foreground shadow-sm\" \n                    : \"text-muted-foreground hover:bg-foreground/[0.03] hover:text-foreground\"\n                )}\n              >\n                <item.icon className={cn(\n                  \"h-4 w-4 shrink-0 transition-transform duration-500\",\n                  isActive ? \"scale-110\" : \"group-hover:scale-110\"\n                )} />\n                <span className=\"font-black tracking-tight text-[11px] uppercase italic ml-4\">\n                  {item.label}\n                </span>\n              </Button>\n            );\n          })}\n        </nav>\n      </div>\n\n      {/* Room Selection - Architectural Design */}\n      <div className=\"space-y-4\">\n        <h3 className=\"text-[10px] font-black uppercase tracking-[0.4em] text-foreground opacity-20 px-6\">\n          Zones\n        </h3>\n        \n        <div className=\"space-y-2 px-2\">\n          {groups.map((group) => {\n            const isPlaying = group.playbackState === \"PLAYBACK_STATE_PLAYING\";\n            const isActive = currentGroup?.id === group.id;\n            \n            return (\n              <motion.button\n                key={group.id}\n                onClick={() => setCurrentGroup(group)}\n                className={cn(\n                  \"w-full h-20 rounded-[2rem] transition-all duration-500 relative flex items-center px-4 overflow-hidden border\",\n                  isActive \n                    ? \"bg-foreground/[0.06] text-foreground border-foreground/[0.1]\" \n                    : \"bg-transparent text-muted-foreground hover:bg-foreground/[0.02] border-transparent\"\n                )}\n                whileHover={{ scale: 1.01 }}\n                whileTap={{ scale: 0.99 }}\n              >\n                {/* Active State Indicator - Left Edge */}\n                {isActive && (\n                  <motion.div \n                    layoutId=\"active-zone-indicator\"\n                    className=\"absolute left-0 top-0 bottom-0 w-0.5 bg-foreground\"\n                  />\n                )}\n\n                {/* Icon Container */}\n                <div className=\"relative shrink-0 flex items-center justify-center\">\n                  <div className={cn(\n                    \"h-12 w-12 rounded-full flex items-center justify-center transition-all duration-500\",\n                    isActive \n                      ? \"bg-foreground shadow-lg\" \n                      : \"bg-foreground/[0.05]\"\n                  )}>\n                    <Waves className={cn(\n                      \"h-5 w-5 transition-colors duration-500\",\n                      isActive ? \"text-background\" : \"text-muted-foreground\"\n                    )} />\n                  </div>\n                  \n                  {/* Playing Indicator Dot */}\n                  {isPlaying && (\n                    <motion.div \n                      layoutId={`playing-dot-${group.id}`}\n                      className=\"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full bg-primary border-2 border-background shadow-sm\"\n                      animate={{ scale: [1, 1.2, 1] }}\n                      transition={{ repeat: Infinity, duration: 2 }}\n                    />\n                  )}\n                </div>\n                \n                {/* Text Content */}\n                <div className=\"flex flex-col items-start ml-4 flex-1 min-w-0\">\n                  <span className={cn(\n                    \"font-black text-sm tracking-tight uppercase italic transition-colors leading-none truncate w-full\",\n                    isActive ? \"text-foreground\" : \"text-muted-foreground opacity-60\"\n                  )}>\n                    {group.name}\n                  </span>\n                  \n                  {/* Status Indicator */}\n                  <div className=\"mt-2 h-3 flex items-center\">\n                    {isPlaying ? (\n                      <div className=\"flex gap-0.5 items-end h-full\">\n                        <motion.div \n                          animate={{ height: [3, 10, 5, 12, 3] }} \n                          transition={{ repeat: Infinity, duration: 1 }} \n                          className=\"w-0.5 bg-primary rounded-full\" \n                        />\n                        <motion.div \n                          animate={{ height: [6, 3, 10, 3, 8] }} \n                          transition={{ repeat: Infinity, duration: 0.8 }} \n                          className=\"w-0.5 bg-primary rounded-full\" \n                        />\n                        <motion.div \n                          animate={{ height: [8, 12, 3, 12, 6] }} \n                          transition={{ repeat: Infinity, duration: 1.2 }} \n                          className=\"w-0.5 bg-primary rounded-full\" \n                        />\n                      </div>\n                    ) : (\n                      <span className=\"text-[8px] font-black uppercase tracking-[0.2em] opacity-20\">\n                        Standby\n                      </span>\n                    )}\n                  </div>\n                </div>\n              </motion.button>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 409, "column": 0}, "map": {"version":3,"sources":["file:///Users/ollie/Documents/dev/musicStreamer/src/components/dashboard/favorite-grid.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSonos } from \"@/components/sonos-provider\";\nimport { Play, MoreVertical, Heart, ArrowRight } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\n\nexport function FavoriteGrid() {\n  const { favorites, currentGroup, refreshState } = useSonos();\n\n  const playFavorite = async (favoriteId: string) => {\n    if (!currentGroup) return;\n    await fetch(`/api/sonos/control?groupId=${currentGroup.id}&favoriteId=${favoriteId}`, { method: \"POST\" });\n    refreshState();\n  };\n\n  if (!favorites || favorites.length === 0) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-[60vh] text-center space-y-10 animate-in fade-in zoom-in duration-1000\">\n        <div className=\"relative h-48 w-48 flex items-center justify-center\">\n          <div className=\"absolute inset-0 bg-primary/5 blur-[60px] rounded-full animate-pulse\" />\n          <Play className=\"h-20 w-20 text-muted-foreground opacity-10\" />\n        </div>\n        <div className=\"space-y-3 max-w-sm\">\n          <h3 className=\"text-3xl font-black tracking-tight italic uppercase opacity-40\">Your Gallery is Empty</h3>\n          <p className=\"text-muted-foreground font-bold text-sm tracking-tight leading-relaxed px-8 opacity-60 uppercase\">\n            Curate your collection in the Sonos app to display your favorites here.\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-20\">\n      <div className=\"flex items-end justify-between border-b border-white/5 pb-10\">\n        <div className=\"space-y-2\">\n          <p className=\"text-[10px] font-black uppercase tracking-[0.6em] text-primary\">Discovery</p>\n          <h2 className=\"text-6xl lg:text-7xl font-black tracking-tighter italic uppercase leading-none\">Your Library</h2>\n        </div>\n        <button className=\"h-16 w-16 rounded-[2rem] bg-secondary/50 hover:bg-secondary flex items-center justify-center transition-all group border border-white/5\">\n          <ArrowRight className=\"h-6 w-6 group-hover:translate-x-1 transition-transform\" />\n        </button>\n      </div>\n\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-x-12 gap-y-20\">\n        {favorites.map((favorite: any, index: number) => (\n          <motion.div\n            key={favorite.id}\n            initial={{ opacity: 0, y: 40 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: index * 0.05, duration: 1, ease: [0.22, 1, 0.36, 1] }}\n            onClick={() => playFavorite(favorite.id)}\n            className=\"group cursor-pointer\"\n          >\n            {/* Massive Editorial Artwork */}\n            <div className=\"relative aspect-[4/5] rounded-[3.5rem] lg:rounded-[4.5rem] overflow-hidden bg-secondary shadow-[0_40px_100px_-20px_rgba(0,0,0,0.3)] group-hover:shadow-[0_60px_120px_-30px_rgba(0,0,0,0.5)] transition-all duration-700 ease-[0.22,1,0.36,1]\">\n              {favorite.imageUrl ? (\n                <img\n                  src={favorite.imageUrl}\n                  alt={favorite.name}\n                  className=\"object-cover w-full h-full transition-all duration-1000 group-hover:scale-110 grayscale-[30%] group-hover:grayscale-0 saturate-[0.8] group-hover:saturate-100\"\n                />\n              ) : (\n                <div className=\"w-full h-full bg-gradient-to-br from-secondary to-background flex items-center justify-center\">\n                  <span className=\"text-foreground/5 text-9xl font-black italic select-none\">ART</span>\n                </div>\n              )}\n              \n              {/* Cinematic Overlay */}\n              <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-40 group-hover:opacity-60 transition-opacity duration-700\" />\n              \n              <div className=\"absolute inset-0 flex flex-col justify-end p-10 opacity-0 group-hover:opacity-100 transition-all duration-500 translate-y-4 group-hover:translate-y-0\">\n                <div className=\"h-20 w-20 rounded-[2rem] bg-white text-black flex items-center justify-center shadow-2xl mb-6\">\n                  <Play className=\"h-8 w-8 fill-current ml-1\" />\n                </div>\n                <div className=\"space-y-1\">\n                  <span className=\"text-[10px] font-black uppercase tracking-[0.4em] text-white/60\">Press to Play</span>\n                  <p className=\"text-white text-xl font-black italic uppercase leading-tight truncate\">{favorite.name}</p>\n                </div>\n              </div>\n            </div>\n            \n            {/* Modern Typography Details */}\n            <div className=\"mt-10 px-6 space-y-3\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex flex-col min-w-0\">\n                  <h3 className=\"font-black text-2xl lg:text-3xl tracking-tighter leading-none truncate uppercase italic group-hover:text-primary transition-colors duration-500\">{favorite.name}</h3>\n                  <p className=\"text-sm font-bold text-muted-foreground uppercase tracking-widest mt-2 opacity-40 truncate\">\n                    {favorite.description || \"Collection\"}\n                  </p>\n                </div>\n                <button className=\"h-10 w-10 flex items-center justify-center text-muted-foreground hover:text-foreground transition-colors shrink-0\">\n                  <MoreVertical className=\"h-5 w-5 opacity-20\" />\n                </button>\n              </div>\n              \n              <div className=\"flex items-center gap-3 pt-2\">\n                <div className=\"h-px flex-1 bg-white/5 group-hover:bg-primary/20 transition-colors duration-700\" />\n                <span className=\"text-[10px] font-black uppercase tracking-[0.2em] opacity-20\">Sonos Fav</span>\n              </div>\n            </div>\n          </motion.div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AAJA;;;;;AAMO,SAAS;IACd,MAAM,EAAE,SAAS,EAAE,YAAY,EAAE,YAAY,EAAE,GAAG,IAAA,mJAAQ;IAE1D,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,cAAc;QACnB,MAAM,MAAM,CAAC,2BAA2B,EAAE,aAAa,EAAE,CAAC,YAAY,EAAE,YAAY,EAAE;YAAE,QAAQ;QAAO;QACvG;IACF;IAEA,IAAI,CAAC,aAAa,UAAU,MAAM,KAAK,GAAG;QACxC,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;;;;;sCACf,8OAAC,0MAAI;4BAAC,WAAU;;;;;;;;;;;;8BAElB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAiE;;;;;;sCAC/E,8OAAC;4BAAE,WAAU;sCAAmG;;;;;;;;;;;;;;;;;;IAMxH;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAAiE;;;;;;0CAC9E,8OAAC;gCAAG,WAAU;0CAAiF;;;;;;;;;;;;kCAEjG,8OAAC;wBAAO,WAAU;kCAChB,cAAA,8OAAC,gOAAU;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAI1B,8OAAC;gBAAI,WAAU;0BACZ,UAAU,GAAG,CAAC,CAAC,UAAe,sBAC7B,8OAAC,oMAAM,CAAC,GAAG;wBAET,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC7B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,YAAY;4BAAE,OAAO,QAAQ;4BAAM,UAAU;4BAAG,MAAM;gCAAC;gCAAM;gCAAG;gCAAM;6BAAE;wBAAC;wBACzE,SAAS,IAAM,aAAa,SAAS,EAAE;wBACvC,WAAU;;0CAGV,8OAAC;gCAAI,WAAU;;oCACZ,SAAS,QAAQ,iBAChB,8OAAC;wCACC,KAAK,SAAS,QAAQ;wCACtB,KAAK,SAAS,IAAI;wCAClB,WAAU;;;;;6DAGZ,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CAAK,WAAU;sDAA2D;;;;;;;;;;;kDAK/E,8OAAC;wCAAI,WAAU;;;;;;kDAEf,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC,0MAAI;oDAAC,WAAU;;;;;;;;;;;0DAElB,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAK,WAAU;kEAAkE;;;;;;kEAClF,8OAAC;wDAAE,WAAU;kEAAyE,SAAS,IAAI;;;;;;;;;;;;;;;;;;;;;;;;0CAMzG,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAG,WAAU;kEAAmJ,SAAS,IAAI;;;;;;kEAC9K,8OAAC;wDAAE,WAAU;kEACV,SAAS,WAAW,IAAI;;;;;;;;;;;;0DAG7B,8OAAC;gDAAO,WAAU;0DAChB,cAAA,8OAAC,0OAAY;oDAAC,WAAU;;;;;;;;;;;;;;;;;kDAI5B,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;;;;;0DACf,8OAAC;gDAAK,WAAU;0DAA+D;;;;;;;;;;;;;;;;;;;uBAnD9E,SAAS,EAAE;;;;;;;;;;;;;;;;AA2D5B"}},
    {"offset": {"line": 757, "column": 0}, "map": {"version":3,"sources":["file:///Users/ollie/Documents/dev/musicStreamer/src/components/dashboard/library-page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSonos } from \"@/components/sonos-provider\";\nimport { Button } from \"@/components/ui/button\";\nimport { Play, Heart, Music, Disc, Users, ListMusic, ChevronRight, Loader2, Search } from \"lucide-react\";\nimport { useState, useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { cn } from \"@/lib/utils\";\n\nexport function LibraryPage() {\n  const { currentGroup, refreshState, favorites } = useSonos();\n  const [services, setServices] = useState<any[]>([]);\n  const [currentPath, setCurrentPath] = useState<any[]>([]);\n  const [items, setItems] = useState<any[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [selectedAccount, setSelectedAccount] = useState<{ accountId: string; serviceId: string } | null>(null);\n  const [showSearch, setShowSearch] = useState(false);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [searchResults, setSearchResults] = useState<any[]>([]);\n  const [spotifyConnected, setSpotifyConnected] = useState<boolean | null>(null);\n\n  useEffect(() => {\n    // Check if Spotify is connected\n    if (selectedAccount?.serviceId === \"9\") {\n      checkSpotifyConnection();\n    }\n  }, [selectedAccount]);\n\n  const checkSpotifyConnection = async () => {\n    try {\n      const res = await fetch(\"/api/spotify/library?type=playlists\");\n      if (res.ok) {\n        setSpotifyConnected(true);\n      } else {\n        const data = await res.json();\n        setSpotifyConnected(data.needsAuth ? false : null);\n      }\n    } catch (error) {\n      setSpotifyConnected(false);\n    }\n  };\n\n  const connectSpotify = async () => {\n    try {\n      const res = await fetch(\"/api/spotify/auth\");\n      if (res.ok) {\n        const { authUrl } = await res.json();\n        window.location.href = authUrl;\n      }\n    } catch (error) {\n      console.error(\"Failed to get Spotify auth URL:\", error);\n    }\n  };\n\n  useEffect(() => {\n    loadMusicServices();\n  }, [favorites]);\n\n  useEffect(() => {\n    if (selectedAccount) {\n      setCurrentPath([]);\n      browseContainer(selectedAccount.accountId, selectedAccount.serviceId);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedAccount]);\n\n  const loadMusicServices = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(\"/api/sonos/library\");\n      if (res.ok) {\n        const data = await res.json();\n        // Handle both musicServiceAccounts and items arrays\n        const servicesList = data.musicServiceAccounts || data.items || data.musicServices || [];\n        \n        if (servicesList.length > 0) {\n          setServices(servicesList);\n        } else {\n          // If still no services, try extracting from playback state\n          if (currentGroup) {\n            try {\n              const pbRes = await fetch(`/api/sonos/playback?groupId=${currentGroup.id}`);\n              if (pbRes.ok) {\n                const pbData = await pbRes.json();\n                const servicesMap = new Map();\n                \n                // Extract from current item\n                if (pbData.currentItem?.track?.service) {\n                  const service = pbData.currentItem.track.service;\n                  const accountId = pbData.currentItem.track.id?.accountId || `sn_${service.id}`;\n                  servicesMap.set(accountId, {\n                    id: service.id,\n                    accountId: accountId,\n                    name: service.name,\n                    images: service.images || [],\n                  });\n                }\n                \n                // Extract from container\n                if (pbData.container?.service) {\n                  const service = pbData.container.service;\n                  const accountId = pbData.container.id?.accountId || `sn_${service.id}`;\n                  servicesMap.set(accountId, {\n                    id: service.id,\n                    accountId: accountId,\n                    name: service.name,\n                    images: service.images || [],\n                  });\n                }\n                \n                if (servicesMap.size > 0) {\n                  setServices(Array.from(servicesMap.values()));\n                }\n              }\n            } catch (error) {\n              console.error(\"Failed to extract from playback:\", error);\n            }\n          }\n        }\n      } else {\n        const errorData = await res.json();\n        console.error(\"Library API error:\", errorData);\n      }\n    } catch (error) {\n      console.error(\"Failed to load music services:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const browseContainer = async (accountId: string, serviceId: string, containerId?: string) => {\n    setLoading(true);\n    setShowSearch(false);\n    \n    try {\n      // For Spotify, use Spotify Web API (Sonos Control API doesn't support browsing)\n      if (serviceId === \"9\") {\n        let type = \"playlists\";\n        if (containerId?.includes(\"playlists\")) type = \"playlists\";\n        else if (containerId?.includes(\"library\")) type = \"library\";\n        else if (containerId?.includes(\"recently-played\") || containerId?.includes(\"recent\")) type = \"recent\";\n        \n        const res = await fetch(`/api/spotify/library?type=${type}`);\n        if (res.ok) {\n          const data = await res.json();\n          setItems(data.items || []);\n          setSpotifyConnected(true);\n          \n          // Update breadcrumb\n          const containerName = type === \"playlists\" ? \"Your Playlists\" :\n                              type === \"library\" ? \"Your Library\" :\n                              type === \"recent\" ? \"Recently Played\" : \"Browse\";\n          \n          setCurrentPath([{ name: containerName, id: { objectId: containerId || type } }]);\n        } else {\n          const errorData = await res.json();\n          if (errorData.needsAuth) {\n            setSpotifyConnected(false);\n            setItems([]);\n            return;\n          }\n          setItems([]);\n        }\n      } else {\n        // For other services, try Sonos API\n        const params = new URLSearchParams({ accountId });\n        if (containerId) params.append(\"containerId\", containerId);\n        \n        const res = await fetch(`/api/sonos/library?${params.toString()}`);\n        if (res.ok) {\n          const data = await res.json();\n          const newItems = data.containers || data.items || [];\n          setItems(newItems);\n          \n          if (containerId) {\n            const containerName = containerId.includes(\"playlists\") ? \"Your Playlists\" :\n                                 containerId.includes(\"library\") ? \"Your Library\" :\n                                 containerId.includes(\"recently-played\") ? \"Recently Played\" :\n                                 \"Browse\";\n            \n            setCurrentPath((prev) => {\n              const filtered = prev.filter((item: any) => {\n                const itemId = item.id?.objectId || item.objectId;\n                return itemId !== containerId;\n              });\n              return [...filtered, { name: containerName, id: { objectId: containerId } }];\n            });\n          } else {\n            setCurrentPath([]);\n          }\n        } else {\n          setItems([]);\n        }\n      }\n    } catch (error) {\n      console.error(\"Failed to browse:\", error);\n      setItems([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlePlay = async (item: any) => {\n    if (!currentGroup) return;\n    \n    const itemId = item.id?.objectId || item.objectId;\n    const serviceId = item.id?.serviceId || item.serviceId || selectedAccount?.serviceId;\n    const accountId = item.id?.accountId || item.accountId || selectedAccount?.accountId;\n\n    if (!itemId || !serviceId || !accountId) {\n      console.error(\"Missing item information:\", item);\n      return;\n    }\n\n    try {\n      await fetch(\"/api/sonos/library/action?action=play&groupId=\" + currentGroup.id, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ itemId, serviceId, accountId }),\n      });\n      refreshState();\n    } catch (error) {\n      console.error(\"Failed to play:\", error);\n    }\n  };\n\n  const handleAddToFavorites = async (item: any) => {\n    const itemId = item.id?.objectId || item.objectId;\n    const serviceId = item.id?.serviceId || item.serviceId || selectedAccount?.serviceId;\n    const accountId = item.id?.accountId || item.accountId || selectedAccount?.accountId;\n    const name = item.name || item.title;\n\n    if (!itemId || !serviceId || !accountId || !name) {\n      console.error(\"Missing item information:\", item);\n      return;\n    }\n\n    try {\n      await fetch(\"/api/sonos/library/action?action=favorite\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ itemId, serviceId, accountId, name }),\n      });\n      refreshState();\n    } catch (error) {\n      console.error(\"Failed to add to favorites:\", error);\n    }\n  };\n\n  const getItemIcon = (item: any) => {\n    const type = item.type || item._objectType || \"\";\n    if (type.includes(\"album\")) return Disc;\n    if (type.includes(\"artist\")) return Users;\n    if (type.includes(\"playlist\")) return ListMusic;\n    return Music;\n  };\n\n  const handleSearch = async (term: string) => {\n    if (!selectedAccount || !term.trim()) return;\n    \n    setLoading(true);\n    try {\n      // Use Spotify API for Spotify search (Sonos Control API doesn't support search)\n      if (selectedAccount.serviceId === \"9\") {\n        const res = await fetch(`/api/spotify/library?type=search&q=${encodeURIComponent(term)}`);\n        if (res.ok) {\n          const data = await res.json();\n          setSearchResults(data.items || []);\n        } else {\n          const errorData = await res.json();\n          if (errorData.needsAuth) {\n            setSpotifyConnected(false);\n            setSearchResults([]);\n            return;\n          }\n          setSearchResults([]);\n        }\n      } else {\n        // For other services, try Sonos API\n        const res = await fetch(`/api/sonos/library/search?accountId=${selectedAccount.accountId}&term=${encodeURIComponent(term)}`, {\n          method: \"POST\",\n        });\n        \n        if (res.ok) {\n          const data = await res.json();\n          setSearchResults(data.results || data.items || []);\n        } else {\n          setSearchResults([]);\n        }\n      }\n    } catch (error) {\n      console.error(\"Search failed:\", error);\n      setSearchResults([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const renderItem = (item: any, idx: number) => {\n    const Icon = getItemIcon(item);\n    const imageUrl = item.imageUrl || item.images?.[0]?.url;\n    const itemName = item.name || item.title;\n    const isContainer = item.type?.includes(\"container\") || item._objectType === \"container\";\n\n    return (\n      <motion.div\n        key={item.id?.objectId || item.id || idx}\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ delay: idx * 0.05 }}\n        className=\"group relative\"\n      >\n        <div className=\"aspect-square rounded-2xl overflow-hidden bg-foreground/[0.03] border border-foreground/[0.05] hover:border-foreground/20 transition-all cursor-pointer\">\n          {imageUrl ? (\n            <img src={imageUrl} alt={itemName} className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500\" />\n          ) : (\n            <div className=\"w-full h-full flex items-center justify-center\">\n              <Icon className=\"h-12 w-12 text-muted-foreground\" />\n            </div>\n          )}\n          \n          {/* Overlay Actions */}\n          <div className=\"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-4\">\n            {isContainer ? (\n              <Button\n                variant=\"default\"\n                size=\"icon\"\n                className=\"h-14 w-14 rounded-full bg-foreground text-background\"\n                onClick={() => {\n                  const containerId = item.id?.objectId || item.objectId;\n                  if (selectedAccount) {\n                    browseContainer(selectedAccount.accountId, selectedAccount.serviceId, containerId);\n                  }\n                }}\n              >\n                <ChevronRight className=\"h-6 w-6\" />\n              </Button>\n            ) : (\n              <>\n                <Button\n                  variant=\"default\"\n                  size=\"icon\"\n                  className=\"h-14 w-14 rounded-full bg-foreground text-background\"\n                  onClick={() => handlePlay(item)}\n                >\n                  <Play className=\"h-6 w-6 fill-current ml-0.5\" />\n                </Button>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-12 w-12 rounded-full bg-white/10 text-white hover:bg-white/20\"\n                  onClick={() => handleAddToFavorites(item)}\n                >\n                  <Heart className=\"h-5 w-5\" />\n                </Button>\n              </>\n            )}\n          </div>\n        </div>\n        \n        <div className=\"mt-3\">\n          <p className=\"font-black text-xs uppercase italic truncate\">{itemName}</p>\n          {item.artist?.name && (\n            <p className=\"text-[10px] text-muted-foreground uppercase tracking-widest mt-1 truncate\">\n              {item.artist.name}\n            </p>\n          )}\n        </div>\n      </motion.div>\n    );\n  };\n\n  if (loading && services.length === 0) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  if (!selectedAccount) {\n    return (\n      <div className=\"space-y-6\">\n        <div>\n          <h2 className=\"text-3xl font-black uppercase italic tracking-tighter mb-2\">Music Services</h2>\n          <p className=\"text-sm text-muted-foreground uppercase tracking-widest\">Select a service to browse</p>\n        </div>\n        \n        {services.length === 0 && !loading ? (\n          <div className=\"flex flex-col items-center justify-center h-64\">\n            <Music className=\"h-16 w-16 text-muted-foreground opacity-20 mb-4\" />\n            <p className=\"text-muted-foreground uppercase tracking-widest\">No music services found</p>\n            <p className=\"text-xs text-muted-foreground mt-2\">Connect music services in your Sonos app</p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n            {services.map((service) => (\n              <motion.button\n                key={service.accountId || service.id}\n                onClick={() => setSelectedAccount({ \n                  accountId: service.accountId || `sn_${service.id}`, \n                  serviceId: service.id || service.serviceId \n                })}\n                className=\"group relative aspect-square rounded-3xl overflow-hidden bg-foreground/[0.03] border border-foreground/[0.05] hover:border-foreground/20 transition-all\"\n                whileHover={{ scale: 1.02 }}\n                whileTap={{ scale: 0.98 }}\n              >\n                {service.images?.[0]?.url ? (\n                  <img src={service.images[0].url} alt={service.name} className=\"w-full h-full object-cover\" />\n                ) : (\n                  <div className=\"w-full h-full flex items-center justify-center\">\n                    <Music className=\"h-12 w-12 text-muted-foreground\" />\n                  </div>\n                )}\n                <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity\" />\n                <div className=\"absolute bottom-0 left-0 right-0 p-4 text-left\">\n                  <p className=\"font-black text-sm uppercase italic text-white\">{service.name}</p>\n                </div>\n              </motion.button>\n            ))}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Breadcrumb */}\n      <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n        <button \n          onClick={() => {\n            setCurrentPath([]);\n            if (selectedAccount) {\n              browseContainer(selectedAccount.accountId, selectedAccount.serviceId);\n            }\n          }} \n          className=\"hover:text-foreground transition-colors\"\n        >\n          Library\n        </button>\n        {currentPath.map((item, idx) => (\n          <div key={idx} className=\"flex items-center gap-2\">\n            <ChevronRight className=\"h-4 w-4\" />\n            <button\n              onClick={() => {\n                const newPath = currentPath.slice(0, idx + 1);\n                setCurrentPath(newPath);\n                const containerId = item.id?.objectId || item.objectId;\n                if (selectedAccount) {\n                  browseContainer(selectedAccount.accountId, selectedAccount.serviceId, containerId);\n                }\n              }}\n              className=\"hover:text-foreground transition-colors\"\n            >\n              {item.name}\n            </button>\n          </div>\n        ))}\n      </div>\n\n      {/* Search Interface */}\n      {showSearch && selectedAccount && (\n        <div className=\"mb-6 space-y-4\">\n          <div className=\"flex items-center gap-4\">\n            <input\n              type=\"text\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              onKeyPress={(e) => {\n                if (e.key === \"Enter\" && searchTerm.trim()) {\n                  handleSearch(searchTerm.trim());\n                }\n              }}\n              placeholder=\"Search Spotify...\"\n              className=\"flex-1 px-6 py-4 rounded-2xl bg-foreground/[0.03] border border-foreground/[0.05] focus:border-foreground/20 outline-none font-bold uppercase tracking-widest text-sm\"\n            />\n            <Button\n              onClick={() => {\n                if (searchTerm.trim()) {\n                  handleSearch(searchTerm.trim());\n                }\n              }}\n              className=\"px-8 py-4 rounded-2xl bg-foreground text-background font-black uppercase tracking-widest\"\n            >\n              Search\n            </Button>\n            <Button\n              variant=\"ghost\"\n              onClick={() => {\n                setShowSearch(false);\n                setSearchTerm(\"\");\n                setSearchResults([]);\n                if (selectedAccount) {\n                  browseContainer(selectedAccount.accountId, selectedAccount.serviceId);\n                }\n              }}\n              className=\"px-6 py-4 rounded-2xl\"\n            >\n              Cancel\n            </Button>\n          </div>\n          \n          {searchResults.length > 0 && (\n            <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4\">\n              {searchResults.map((item, idx) => renderItem(item, idx))}\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Items Grid */}\n      {loading ? (\n        <div className=\"flex items-center justify-center h-64\">\n          <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n        </div>\n      ) : items.length === 0 && !showSearch ? (\n        <div className=\"space-y-6\">\n          {/* Show quick access buttons */}\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8\">\n            <Button\n              onClick={() => {\n                if (selectedAccount) {\n                  browseContainer(selectedAccount.accountId, selectedAccount.serviceId, \"spotify:user-playlists\");\n                }\n              }}\n              className=\"h-24 rounded-2xl bg-foreground/[0.03] border border-foreground/[0.05] hover:bg-foreground/[0.06] flex flex-col items-center justify-center gap-2\"\n            >\n              <ListMusic className=\"h-6 w-6\" />\n              <span className=\"text-xs font-black uppercase tracking-widest\">Playlists</span>\n            </Button>\n            <Button\n              onClick={() => {\n                if (selectedAccount) {\n                  browseContainer(selectedAccount.accountId, selectedAccount.serviceId, \"spotify:user-library\");\n                }\n              }}\n              className=\"h-24 rounded-2xl bg-foreground/[0.03] border border-foreground/[0.05] hover:bg-foreground/[0.06] flex flex-col items-center justify-center gap-2\"\n            >\n              <Music className=\"h-6 w-6\" />\n              <span className=\"text-xs font-black uppercase tracking-widest\">Library</span>\n            </Button>\n            <Button\n              onClick={() => {\n                if (selectedAccount) {\n                  browseContainer(selectedAccount.accountId, selectedAccount.serviceId, \"spotify:recently-played\");\n                }\n              }}\n              className=\"h-24 rounded-2xl bg-foreground/[0.03] border border-foreground/[0.05] hover:bg-foreground/[0.06] flex flex-col items-center justify-center gap-2\"\n            >\n              <Play className=\"h-6 w-6\" />\n              <span className=\"text-xs font-black uppercase tracking-widest\">Recent</span>\n            </Button>\n            <Button\n              onClick={() => setShowSearch(true)}\n              className=\"h-24 rounded-2xl bg-foreground/[0.03] border border-foreground/[0.05] hover:bg-foreground/[0.06] flex flex-col items-center justify-center gap-2\"\n            >\n              <Search className=\"h-6 w-6\" />\n              <span className=\"text-xs font-black uppercase tracking-widest\">Search</span>\n            </Button>\n          </div>\n          \n          {/* Show favorites from this service */}\n          {favorites.length > 0 ? (\n            <div>\n              <h3 className=\"text-xl font-black uppercase italic tracking-tighter mb-6\">Your Sonos Favorites</h3>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4\">\n                {favorites\n                  .filter((fav: any) => {\n                    const favServiceId = fav.service?.id || fav.serviceId;\n                    return favServiceId === selectedAccount?.serviceId;\n                  })\n                  .map((item, idx) => renderItem(item, idx))}\n              </div>\n            </div>\n          ) : spotifyConnected === false && selectedAccount?.serviceId === \"9\" ? (\n            <div className=\"flex flex-col items-center justify-center h-64 bg-foreground/[0.02] rounded-3xl border border-foreground/[0.05]\">\n              <Music className=\"h-16 w-16 text-muted-foreground opacity-20 mb-4\" />\n              <p className=\"text-muted-foreground uppercase tracking-widest mb-2 text-center\">Connect Spotify</p>\n              <p className=\"text-xs text-muted-foreground text-center max-w-md px-4 mb-6\">\n                To browse your Spotify playlists, recently played tracks, and search the catalog, we need to connect to Spotify's API. This is separate from your Sonos account.\n              </p>\n              <Button\n                onClick={connectSpotify}\n                className=\"px-8 py-4 rounded-2xl bg-[#1DB954] text-white font-black uppercase tracking-widest hover:bg-[#1ed760] transition-colors\"\n              >\n                Connect Spotify\n              </Button>\n            </div>\n          ) : (\n            <div className=\"space-y-6\">\n              <div className=\"flex flex-col items-center justify-center h-64 bg-foreground/[0.02] rounded-3xl border border-foreground/[0.05]\">\n                <Music className=\"h-16 w-16 text-muted-foreground opacity-20 mb-4\" />\n                <p className=\"text-muted-foreground uppercase tracking-widest mb-2 text-center\">No Content Available</p>\n                <p className=\"text-xs text-muted-foreground text-center max-w-md px-4 mb-6\">\n                  {selectedAccount?.serviceId === \"9\" \n                    ? \"Click the buttons above to browse your Spotify library.\"\n                    : \"Add favorites in the Sonos app to see them here.\"}\n                </p>\n              </div>\n            </div>\n          )}\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4\">\n          {items.map((item, idx) => renderItem(item, idx))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1768, "column": 0}, "map": {"version":3,"sources":["file:///Users/ollie/Documents/dev/musicStreamer/src/components/dashboard/settings-page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSonos } from \"@/components/sonos-provider\";\nimport { Button } from \"@/components/ui/button\";\nimport { Settings, Music, Radio, Check, X, LogOut, RefreshCw, Loader2 } from \"lucide-react\";\nimport { useState, useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { cn } from \"@/lib/utils\";\n\nexport function SettingsPage() {\n  const { refreshState } = useSonos();\n  const [spotifyConnected, setSpotifyConnected] = useState<boolean | null>(null);\n  const [sonosConnected, setSonosConnected] = useState<boolean>(false);\n  const [loading, setLoading] = useState(false);\n  const [checking, setChecking] = useState(true);\n\n  useEffect(() => {\n    checkConnections();\n  }, []);\n\n  const checkConnections = async () => {\n    setChecking(true);\n    \n    // Check Sonos connection\n    try {\n      const res = await fetch(\"/api/sonos/state\");\n      setSonosConnected(res.ok);\n    } catch (error) {\n      setSonosConnected(false);\n    }\n\n    // Check Spotify connection\n    try {\n      const res = await fetch(\"/api/spotify/library?type=playlists\");\n      if (res.ok) {\n        setSpotifyConnected(true);\n      } else {\n        const data = await res.json();\n        setSpotifyConnected(data.needsAuth ? false : null);\n      }\n    } catch (error) {\n      setSpotifyConnected(false);\n    }\n    \n    setChecking(false);\n  };\n\n  const connectSpotify = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(\"/api/spotify/auth\");\n      if (res.ok) {\n        const data = await res.json();\n        if (data.authUrl) {\n          window.location.href = data.authUrl;\n        } else if (data.error) {\n          alert(`Spotify connection error: ${data.message || data.error}\\n\\nPlease add SPOTIFY_CLIENT_ID and SPOTIFY_CLIENT_SECRET to your .env file.`);\n        }\n      } else {\n        const errorData = await res.json();\n        alert(`Failed to connect Spotify: ${errorData.message || errorData.error}\\n\\nPlease configure Spotify credentials in .env file.`);\n      }\n    } catch (error: any) {\n      console.error(\"Failed to get Spotify auth URL:\", error);\n      alert(`Failed to connect Spotify: ${error.message}\\n\\nPlease check your .env configuration.`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const disconnectSpotify = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(\"/api/spotify/disconnect\", { method: \"POST\" });\n      if (res.ok) {\n        setSpotifyConnected(false);\n        await checkConnections();\n      }\n    } catch (error) {\n      console.error(\"Failed to disconnect Spotify:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const reconnectSonos = async () => {\n    window.location.href = \"/api/sonos/login\";\n  };\n\n  const disconnectSonos = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(\"/api/sonos/disconnect\", { method: \"POST\" });\n      if (res.ok) {\n        setSonosConnected(false);\n        await checkConnections();\n        // Redirect to setup if disconnected\n        window.location.href = \"/setup\";\n      }\n    } catch (error) {\n      console.error(\"Failed to disconnect Sonos:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (checking) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-8 max-w-4xl\">\n      <div>\n        <h1 className=\"text-4xl font-black uppercase italic tracking-tighter mb-2\">Settings</h1>\n        <p className=\"text-sm text-muted-foreground uppercase tracking-widest\">Manage your connections</p>\n      </div>\n\n      {/* Sonos Connection */}\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"rounded-3xl bg-foreground/[0.02] border border-foreground/[0.05] p-8 space-y-6\"\n      >\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-4\">\n            <div className=\"h-12 w-12 rounded-2xl bg-foreground/[0.05] flex items-center justify-center\">\n              <Radio className=\"h-6 w-6 text-foreground\" />\n            </div>\n            <div>\n              <h2 className=\"text-xl font-black uppercase italic tracking-tighter\">Sonos Account</h2>\n              <p className=\"text-xs text-muted-foreground uppercase tracking-widest mt-1\">\n                Control your Sonos speakers\n              </p>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-3\">\n            {sonosConnected ? (\n              <>\n                <div className=\"flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20\">\n                  <Check className=\"h-4 w-4 text-primary\" />\n                  <span className=\"text-xs font-black uppercase tracking-widest text-primary\">Connected</span>\n                </div>\n                <Button\n                  variant=\"ghost\"\n                  onClick={disconnectSonos}\n                  disabled={loading}\n                  className=\"px-6 py-2 rounded-2xl\"\n                >\n                  <LogOut className=\"h-4 w-4 mr-2\" />\n                  Disconnect\n                </Button>\n              </>\n            ) : (\n              <Button\n                onClick={reconnectSonos}\n                className=\"px-6 py-2 rounded-2xl bg-foreground text-background font-black uppercase tracking-widest\"\n              >\n                Connect Sonos\n              </Button>\n            )}\n          </div>\n        </div>\n\n        {sonosConnected && (\n          <div className=\"pt-4 border-t border-foreground/[0.05]\">\n            <div className=\"flex items-center justify-between text-sm\">\n              <span className=\"text-muted-foreground uppercase tracking-widest\">Status</span>\n              <span className=\"font-black text-foreground\">Active</span>\n            </div>\n            <div className=\"flex items-center justify-between text-sm mt-2\">\n              <span className=\"text-muted-foreground uppercase tracking-widest\">Last Sync</span>\n              <span className=\"font-black text-foreground\">Just now</span>\n            </div>\n          </div>\n        )}\n      </motion.div>\n\n      {/* Spotify Connection */}\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ delay: 0.1 }}\n        className=\"rounded-3xl bg-foreground/[0.02] border border-foreground/[0.05] p-8 space-y-6\"\n      >\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-4\">\n            <div className=\"h-12 w-12 rounded-2xl bg-[#1DB954]/10 flex items-center justify-center border border-[#1DB954]/20\">\n              <Music className=\"h-6 w-6 text-[#1DB954]\" />\n            </div>\n            <div>\n              <h2 className=\"text-xl font-black uppercase italic tracking-tighter\">Spotify Account</h2>\n              <p className=\"text-xs text-muted-foreground uppercase tracking-widest mt-1\">\n                Browse playlists, recently played & search\n              </p>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-3\">\n            {spotifyConnected ? (\n              <>\n                <div className=\"flex items-center gap-2 px-4 py-2 rounded-full bg-[#1DB954]/10 border border-[#1DB954]/20\">\n                  <Check className=\"h-4 w-4 text-[#1DB954]\" />\n                  <span className=\"text-xs font-black uppercase tracking-widest text-[#1DB954]\">Connected</span>\n                </div>\n                <Button\n                  variant=\"ghost\"\n                  onClick={disconnectSpotify}\n                  disabled={loading}\n                  className=\"px-6 py-2 rounded-2xl\"\n                >\n                  <LogOut className=\"h-4 w-4 mr-2\" />\n                  Disconnect\n                </Button>\n              </>\n            ) : (\n              <Button\n                onClick={connectSpotify}\n                disabled={loading}\n                className=\"px-6 py-2 rounded-2xl bg-[#1DB954] text-white font-black uppercase tracking-widest hover:bg-[#1ed760] transition-colors disabled:opacity-50\"\n              >\n                {loading ? (\n                  <>\n                    <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                    Connecting...\n                  </>\n                ) : (\n                  \"Connect Spotify\"\n                )}\n              </Button>\n            )}\n          </div>\n        </div>\n\n        {spotifyConnected && (\n          <div className=\"pt-4 border-t border-foreground/[0.05]\">\n            <div className=\"flex items-center justify-between text-sm\">\n              <span className=\"text-muted-foreground uppercase tracking-widest\">Status</span>\n              <span className=\"font-black text-foreground\">Active</span>\n            </div>\n            <div className=\"flex items-center justify-between text-sm mt-2\">\n              <span className=\"text-muted-foreground uppercase tracking-widest\">Access</span>\n              <span className=\"font-black text-foreground\">Full Library Access</span>\n            </div>\n          </div>\n        )}\n\n        {spotifyConnected === false && (\n          <div className=\"pt-4 border-t border-foreground/[0.05] space-y-3\">\n            <p className=\"text-xs text-muted-foreground\">\n              Connect your Spotify account to browse playlists, recently played tracks, and search the catalog. \n              This is separate from your Sonos account and requires Spotify API access.\n            </p>\n            <div className=\"bg-foreground/[0.03] rounded-2xl p-4 border border-foreground/[0.05]\">\n              <p className=\"text-[10px] font-black uppercase tracking-[0.2em] text-primary mb-2\">Setup Required</p>\n              <ol className=\"text-xs text-muted-foreground space-y-1 list-decimal list-inside\">\n                <li>Create a Spotify app at <a href=\"https://developer.spotify.com/dashboard\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-primary hover:underline\">developer.spotify.com</a></li>\n                <li>Add redirect URI: <code className=\"bg-foreground/[0.05] px-1 rounded\">https://lvh.me:3000/api/spotify/callback</code></li>\n                <li>Add to .env: <code className=\"bg-foreground/[0.05] px-1 rounded\">SPOTIFY_CLIENT_ID</code> and <code className=\"bg-foreground/[0.05] px-1 rounded\">SPOTIFY_CLIENT_SECRET</code></li>\n                <li>Restart the dev server</li>\n              </ol>\n            </div>\n          </div>\n        )}\n      </motion.div>\n\n      {/* Refresh Button */}\n      <div className=\"flex justify-end\">\n        <Button\n          variant=\"ghost\"\n          onClick={checkConnections}\n          className=\"px-6 py-2 rounded-2xl\"\n        >\n          <RefreshCw className=\"h-4 w-4 mr-2\" />\n          Refresh Status\n        </Button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AANA;;;;;;;AASO,SAAS;IACd,MAAM,EAAE,YAAY,EAAE,GAAG,IAAA,mJAAQ;IACjC,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAiB;IACzE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAU;IAC9D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,mBAAmB;QACvB,YAAY;QAEZ,yBAAyB;QACzB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM;YACxB,kBAAkB,IAAI,EAAE;QAC1B,EAAE,OAAO,OAAO;YACd,kBAAkB;QACpB;QAEA,2BAA2B;QAC3B,IAAI;YACF,MAAM,MAAM,MAAM,MAAM;YACxB,IAAI,IAAI,EAAE,EAAE;gBACV,oBAAoB;YACtB,OAAO;gBACL,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,oBAAoB,KAAK,SAAS,GAAG,QAAQ;YAC/C;QACF,EAAE,OAAO,OAAO;YACd,oBAAoB;QACtB;QAEA,YAAY;IACd;IAEA,MAAM,iBAAiB;QACrB,WAAW;QACX,IAAI;YACF,MAAM,MAAM,MAAM,MAAM;YACxB,IAAI,IAAI,EAAE,EAAE;gBACV,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,IAAI,KAAK,OAAO,EAAE;oBAChB,OAAO,QAAQ,CAAC,IAAI,GAAG,KAAK,OAAO;gBACrC,OAAO,IAAI,KAAK,KAAK,EAAE;oBACrB,MAAM,CAAC,0BAA0B,EAAE,KAAK,OAAO,IAAI,KAAK,KAAK,CAAC,6EAA6E,CAAC;gBAC9I;YACF,OAAO;gBACL,MAAM,YAAY,MAAM,IAAI,IAAI;gBAChC,MAAM,CAAC,2BAA2B,EAAE,UAAU,OAAO,IAAI,UAAU,KAAK,CAAC,sDAAsD,CAAC;YAClI;QACF,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,mCAAmC;YACjD,MAAM,CAAC,2BAA2B,EAAE,MAAM,OAAO,CAAC,yCAAyC,CAAC;QAC9F,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,oBAAoB;QACxB,WAAW;QACX,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,2BAA2B;gBAAE,QAAQ;YAAO;YACpE,IAAI,IAAI,EAAE,EAAE;gBACV,oBAAoB;gBACpB,MAAM;YACR;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iCAAiC;QACjD,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,iBAAiB;QACrB,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,MAAM,kBAAkB;QACtB,WAAW;QACX,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,yBAAyB;gBAAE,QAAQ;YAAO;YAClE,IAAI,IAAI,EAAE,EAAE;gBACV,kBAAkB;gBAClB,MAAM;gBACN,oCAAoC;gBACpC,OAAO,QAAQ,CAAC,IAAI,GAAG;YACzB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;QAC/C,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAI,UAAU;QACZ,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,4NAAO;gBAAC,WAAU;;;;;;;;;;;IAGzB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;;kCACC,8OAAC;wBAAG,WAAU;kCAA6D;;;;;;kCAC3E,8OAAC;wBAAE,WAAU;kCAA0D;;;;;;;;;;;;0BAIzE,8OAAC,oMAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC7B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,WAAU;;kCAEV,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC,6MAAK;4CAAC,WAAU;;;;;;;;;;;kDAEnB,8OAAC;;0DACC,8OAAC;gDAAG,WAAU;0DAAuD;;;;;;0DACrE,8OAAC;gDAAE,WAAU;0DAA+D;;;;;;;;;;;;;;;;;;0CAKhF,8OAAC;gCAAI,WAAU;0CACZ,+BACC;;sDACE,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,6MAAK;oDAAC,WAAU;;;;;;8DACjB,8OAAC;oDAAK,WAAU;8DAA4D;;;;;;;;;;;;sDAE9E,8OAAC,4IAAM;4CACL,SAAQ;4CACR,SAAS;4CACT,UAAU;4CACV,WAAU;;8DAEV,8OAAC,oNAAM;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;;iEAKvC,8OAAC,4IAAM;oCACL,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;;;;;;;oBAON,gCACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDAAkD;;;;;;kDAClE,8OAAC;wCAAK,WAAU;kDAA6B;;;;;;;;;;;;0CAE/C,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDAAkD;;;;;;kDAClE,8OAAC;wCAAK,WAAU;kDAA6B;;;;;;;;;;;;;;;;;;;;;;;;0BAOrD,8OAAC,oMAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC7B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,OAAO;gBAAI;gBACzB,WAAU;;kCAEV,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC,6MAAK;4CAAC,WAAU;;;;;;;;;;;kDAEnB,8OAAC;;0DACC,8OAAC;gDAAG,WAAU;0DAAuD;;;;;;0DACrE,8OAAC;gDAAE,WAAU;0DAA+D;;;;;;;;;;;;;;;;;;0CAKhF,8OAAC;gCAAI,WAAU;0CACZ,iCACC;;sDACE,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,6MAAK;oDAAC,WAAU;;;;;;8DACjB,8OAAC;oDAAK,WAAU;8DAA8D;;;;;;;;;;;;sDAEhF,8OAAC,4IAAM;4CACL,SAAQ;4CACR,SAAS;4CACT,UAAU;4CACV,WAAU;;8DAEV,8OAAC,oNAAM;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;;iEAKvC,8OAAC,4IAAM;oCACL,SAAS;oCACT,UAAU;oCACV,WAAU;8CAET,wBACC;;0DACE,8OAAC,4NAAO;gDAAC,WAAU;;;;;;4CAA8B;;uDAInD;;;;;;;;;;;;;;;;;oBAOT,kCACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDAAkD;;;;;;kDAClE,8OAAC;wCAAK,WAAU;kDAA6B;;;;;;;;;;;;0CAE/C,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDAAkD;;;;;;kDAClE,8OAAC;wCAAK,WAAU;kDAA6B;;;;;;;;;;;;;;;;;;oBAKlD,qBAAqB,uBACpB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAAgC;;;;;;0CAI7C,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;kDAAsE;;;;;;kDACnF,8OAAC;wCAAG,WAAU;;0DACZ,8OAAC;;oDAAG;kEAAwB,8OAAC;wDAAE,MAAK;wDAA0C,QAAO;wDAAS,KAAI;wDAAsB,WAAU;kEAA+B;;;;;;;;;;;;0DACjK,8OAAC;;oDAAG;kEAAkB,8OAAC;wDAAK,WAAU;kEAAoC;;;;;;;;;;;;0DAC1E,8OAAC;;oDAAG;kEAAa,8OAAC;wDAAK,WAAU;kEAAoC;;;;;;oDAAwB;kEAAK,8OAAC;wDAAK,WAAU;kEAAoC;;;;;;;;;;;;0DACtJ,8OAAC;0DAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAQd,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,4IAAM;oBACL,SAAQ;oBACR,SAAS;oBACT,WAAU;;sCAEV,8OAAC,6NAAS;4BAAC,WAAU;;;;;;wBAAiB;;;;;;;;;;;;;;;;;;AAMhD"}},
    {"offset": {"line": 2479, "column": 0}, "map": {"version":3,"sources":["file:///Users/ollie/Documents/dev/musicStreamer/src/components/ui/slider.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,mNAAgB,CAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,0KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,4DACA;QAED,GAAG,KAAK;;0BAET,8OAAC,2KAAqB;gBAAC,WAAU;0BAC/B,cAAA,8OAAC,2KAAqB;oBAAC,WAAU;;;;;;;;;;;0BAEnC,8OAAC,2KAAqB;gBAAC,WAAU;;;;;;;;;;;;AAGrC,OAAO,WAAW,GAAG,0KAAoB,CAAC,WAAW"}},
    {"offset": {"line": 2530, "column": 0}, "map": {"version":3,"sources":["file:///Users/ollie/Documents/dev/musicStreamer/src/components/player/full-screen-player.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSonos } from \"@/components/sonos-provider\";\nimport { Button } from \"@/components/ui/button\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { ChevronDown, Play, Pause, SkipBack, SkipForward, Volume2, Repeat, Shuffle, Heart, Share2, ListMusic } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\nimport { useState, useEffect } from \"react\";\n\nfunction formatTime(milliseconds: number): string {\n  const totalSeconds = Math.floor(milliseconds / 1000);\n  const minutes = Math.floor(totalSeconds / 60);\n  const seconds = totalSeconds % 60;\n  return `${minutes}:${seconds.toString().padStart(2, \"0\")}`;\n}\n\nexport function FullScreenPlayer({ onClose }: { onClose: () => void }) {\n  const { currentGroup, playbackState, volume, setVolume, refreshState, setIsExpanded } = useSonos();\n  const [currentPosition, setCurrentPosition] = useState(0);\n\n  const track = playbackState?.currentItem?.track;\n  const container = playbackState?.container;\n  const metadata = track || container || playbackState?.currentItem;\n  const isPlaying = playbackState?.playbackState === \"PLAYBACK_STATE_PLAYING\";\n  \n  const artwork = track?.imageUrl || container?.imageUrl || metadata?.imageUrl;\n  const title = track?.name || container?.name || metadata?.name || \"No Music Playing\";\n  \n  // Extract artist - Sonos API structure: currentItem.track.artist.name\n  const artist = \n    track?.artist?.name || \n    track?.podcast?.name || \n    container?.name || \n    \"Unknown Artist\";\n  \n  // Extract position and duration from playback state\n  const positionMillis = playbackState?.positionMillis || 0;\n  const durationMillis = metadata?.durationMillis || playbackState?.currentItem?.track?.durationMillis || 0;\n  \n  // Update current position when playback state changes or while playing\n  useEffect(() => {\n    if (playbackState?.positionMillis !== undefined) {\n      setCurrentPosition(playbackState.positionMillis);\n    }\n  }, [playbackState?.positionMillis]);\n\n  // Auto-update position while playing\n  useEffect(() => {\n    if (!isPlaying || durationMillis === 0) return;\n    \n    const interval = setInterval(() => {\n      setCurrentPosition((prev) => {\n        const next = prev + 1000;\n        return next >= durationMillis ? durationMillis : next;\n      });\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, [isPlaying, durationMillis]);\n\n  const progress = durationMillis > 0 ? (currentPosition / durationMillis) * 100 : 0;\n\n  const handleClose = () => {\n    setIsExpanded(false);\n    onClose();\n  };\n\n  const togglePlayback = async () => {\n    const command = isPlaying ? \"pause\" : \"play\";\n    await fetch(`/api/sonos/control?groupId=${currentGroup.id}&command=${command}`, { method: \"POST\" });\n    refreshState();\n  };\n\n  const skip = async (direction: \"skipToNextTrack\" | \"skipToPreviousTrack\") => {\n    await fetch(`/api/sonos/control?groupId=${currentGroup.id}&command=${direction}`, { method: \"POST\" });\n    refreshState();\n  };\n\n  const handleVolumeChange = (value: number[]) => {\n    setVolume(value[0]);\n  };\n\n  const handleSeek = async (value: number[]) => {\n    if (!currentGroup || durationMillis === 0) return;\n    const seekPercent = value[0] / 100;\n    const seekPosition = Math.floor(durationMillis * seekPercent);\n    setCurrentPosition(seekPosition);\n    \n    // Send seek command to Sonos\n    try {\n      await fetch(`/api/sonos/seek?groupId=${currentGroup.id}&positionMillis=${seekPosition}`, { method: \"POST\" });\n      refreshState();\n    } catch (error) {\n      console.error(\"Seek failed:\", error);\n    }\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 1.05 }}\n      animate={{ opacity: 1, scale: 1 }}\n      exit={{ opacity: 0, scale: 0.98 }}\n      transition={{ duration: 0.6, ease: [0.22, 1, 0.36, 1] }}\n      className=\"fixed inset-0 z-[200] bg-background flex flex-col p-6 sm:p-10 md:p-12 overflow-hidden select-none\"\n    >\n      {/* Immersive Dynamic Background */}\n      <div className=\"absolute inset-0 z-[-1] overflow-hidden pointer-events-none\">\n        {artwork ? (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 0.5 }}\n            transition={{ duration: 1.5 }}\n            className=\"relative h-full w-full\"\n          >\n            <img \n              src={artwork} \n              alt=\"Background\" \n              className=\"w-full h-full object-cover blur-[120px] saturate-[1.5] brightness-[0.3] scale-110\"\n            />\n            <div className=\"absolute inset-0 bg-gradient-to-b from-black/20 via-transparent to-background\" />\n          </motion.div>\n        ) : (\n          <div className=\"h-full w-full bg-secondary/10\" />\n        )}\n      </div>\n\n      {/* Header - Fixed Height */}\n      <header className=\"w-full max-w-7xl mx-auto flex items-center justify-between z-10 shrink-0 h-20 sm:h-24\">\n        <Button \n          variant=\"ghost\" \n          size=\"icon\" \n          onClick={handleClose}\n          className=\"h-12 w-12 sm:h-14 sm:w-14 rounded-2xl glass hover:bg-white/10 transition-all duration-500 group\"\n        >\n          <ChevronDown className=\"h-8 w-8 group-hover:translate-y-1 transition-transform\" />\n        </Button>\n        \n        <div className=\"text-center\">\n          <p className=\"text-[10px] font-black uppercase tracking-[0.5em] text-primary mb-1 opacity-50\">Atmosphere</p>\n          <h2 className=\"text-lg sm:text-xl font-black italic uppercase tracking-tighter leading-none truncate max-w-[200px] sm:max-w-md\">\n            {currentGroup?.name}\n          </h2>\n        </div>\n\n        <Button \n          variant=\"ghost\" \n          size=\"icon\" \n          className=\"h-12 w-12 sm:h-14 sm:w-14 rounded-2xl glass hover:bg-white/10 transition-all duration-500\"\n        >\n          <ListMusic className=\"h-6 w-6\" />\n        </Button>\n      </header>\n\n      {/* Main Experience - Flex Growing Area */}\n      <main className=\"w-full max-w-7xl mx-auto flex-1 min-h-0 flex flex-col lg:flex-row items-center justify-center gap-8 md:gap-12 lg:gap-20 z-10 py-4 sm:py-8 overflow-y-auto no-scrollbar\">\n        {/* Artwork - Constrained by height */}\n        <div className=\"flex-1 flex items-center justify-center w-full min-h-0 max-h-[40vh] lg:max-h-[60vh]\">\n          <motion.div \n            layoutId=\"artwork\"\n            className=\"relative aspect-square h-full max-w-full rounded-[2.5rem] lg:rounded-[4rem] overflow-hidden shadow-[0_40px_100px_-20px_rgba(0,0,0,0.5)] border border-white/5 bg-secondary/20\"\n          >\n            {artwork ? (\n              <img src={artwork} alt={title} className=\"w-full h-full object-cover\" />\n            ) : (\n              <div className=\"w-full h-full flex items-center justify-center italic\">\n                <span className=\"text-foreground/5 text-9xl font-black\">S</span>\n              </div>\n            )}\n          </motion.div>\n        </div>\n\n        {/* Info & Controls - Flex shrinkable */}\n        <div className=\"flex-1 flex flex-col justify-center w-full max-w-2xl text-center lg:text-left space-y-8 sm:space-y-12 shrink-0\">\n          <div className=\"space-y-4\">\n            <motion.div\n              initial={{ x: -20, opacity: 0 }}\n              animate={{ x: 0, opacity: 1 }}\n              transition={{ delay: 0.3 }}\n              className=\"space-y-2 sm:space-y-4\"\n            >\n              <h1 className=\"text-4xl sm:text-5xl md:text-6xl xl:text-7xl 2xl:text-8xl font-black tracking-tighter italic uppercase leading-[0.9] text-balance\">{title}</h1>\n              <div className=\"flex flex-col lg:flex-row lg:items-center gap-3 lg:gap-8\">\n                <p className=\"text-xl sm:text-2xl font-bold text-foreground/40 tracking-tight uppercase italic truncate\">{artist}</p>\n                <div className=\"hidden lg:block h-px w-12 bg-primary/20\" />\n                <div className=\"flex items-center justify-center gap-4\">\n                  <span className=\"text-[9px] font-black uppercase tracking-[0.3em] px-3 py-1 glass rounded-full text-primary border-primary/20\">Ultra HD</span>\n                  <Heart className=\"h-6 w-6 text-foreground/20 hover:text-red-500 transition-colors cursor-pointer\" />\n                </div>\n              </div>\n            </motion.div>\n          </div>\n\n          <div className=\"space-y-8 sm:space-y-12\">\n            {/* Progress */}\n            <div className=\"space-y-4 sm:space-y-6\">\n              <Slider \n                value={[progress]} \n                onValueChange={handleSeek}\n                max={100} \n                step={0.1} \n                className=\"w-full h-1.5 sm:h-2 cursor-pointer\" \n              />\n              <div className=\"flex justify-between text-[10px] font-black tracking-[0.3em] text-foreground/20 uppercase\">\n                <span>{formatTime(currentPosition)}</span>\n                <span>{formatTime(durationMillis)}</span>\n              </div>\n            </div>\n\n            {/* Controls */}\n            <div className=\"flex items-center justify-between lg:justify-start lg:gap-12\">\n              <Button variant=\"ghost\" size=\"icon\" className=\"h-10 w-10 text-foreground/20 hover:text-primary transition-all\">\n                <Shuffle className=\"h-6 w-6\" />\n              </Button>\n              \n              <div className=\"flex items-center gap-8 sm:gap-12\">\n                <Button \n                  variant=\"ghost\" \n                  size=\"icon\" \n                  className=\"h-14 w-14 text-foreground/40 hover:text-foreground transition-all hover:scale-110 active:scale-95\"\n                  onClick={() => skip(\"skipToPreviousTrack\")}\n                >\n                  <SkipBack className=\"h-10 w-10 fill-current\" />\n                </Button>\n                \n                <Button \n                  variant=\"default\" \n                  size=\"icon\" \n                  className=\"h-24 w-24 sm:h-32 sm:w-32 rounded-[2.5rem] sm:rounded-[3.5rem] bg-foreground text-background hover:scale-105 active:scale-90 transition-all shadow-2xl border-4 border-white/5 shrink-0\" \n                  onClick={togglePlayback}\n                >\n                  {isPlaying ? <Pause className=\"h-10 w-10 sm:h-14 sm:w-14 fill-current\" /> : <Play className=\"h-10 w-10 sm:h-14 sm:w-14 fill-current ml-1.5\" />}\n                </Button>\n                \n                <Button \n                  variant=\"ghost\" \n                  size=\"icon\" \n                  className=\"h-14 w-14 text-foreground/40 hover:text-foreground transition-all hover:scale-110 active:scale-95\"\n                  onClick={() => skip(\"skipToNextTrack\")}\n                >\n                  <SkipForward className=\"h-10 w-10 fill-current\" />\n                </Button>\n              </div>\n\n              <Button variant=\"ghost\" size=\"icon\" className=\"h-10 w-10 text-foreground/20 hover:text-primary transition-all\">\n                <Repeat className=\"h-6 w-6\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n      </main>\n\n      {/* Footer - Fixed Height */}\n      <footer className=\"w-full max-w-7xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-6 sm:gap-10 z-10 pt-6 sm:pt-10 border-t border-white/5 shrink-0 h-32 sm:h-24 mb-4 sm:mb-0\">\n        <div className=\"flex items-center gap-6 w-full sm:w-[300px] px-6 py-3 glass rounded-2xl\">\n          <Volume2 className=\"h-5 w-5 text-primary shrink-0\" />\n          <Slider value={[volume]} onValueChange={handleVolumeChange} max={100} step={1} className=\"flex-1 h-1\" />\n        </div>\n        \n        <div className=\"flex items-center gap-8 lg:gap-12\">\n          <button className=\"text-[10px] font-black uppercase tracking-[0.4em] text-foreground/20 hover:text-primary transition-colors\">Lyrics</button>\n          <button className=\"text-[10px] font-black uppercase tracking-[0.4em] text-foreground/20 hover:text-primary transition-colors\">Queue</button>\n          <div className=\"flex items-center gap-3\">\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-12 w-12 rounded-2xl glass text-foreground/20 hover:text-primary transition-all\">\n              <Share2 className=\"h-5 w-5\" />\n            </Button>\n          </div>\n        </div>\n      </footer>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3172, "column": 0}, "map": {"version":3,"sources":["file:///Users/ollie/Documents/dev/musicStreamer/src/components/player/mini-player.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSonos } from \"@/components/sonos-provider\";\nimport { Button } from \"@/components/ui/button\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { Play, Pause, SkipBack, SkipForward, Volume2, Maximize2, Heart, Share2, Disc } from \"lucide-react\";\nimport { FullScreenPlayer } from \"./full-screen-player\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\nexport function MiniPlayer() {\n  const { currentGroup, playbackState, volume, setVolume, refreshState, isExpanded, setIsExpanded } = useSonos();\n\n  if (!currentGroup) return null;\n\n  const track = playbackState?.currentItem?.track;\n  const container = playbackState?.container;\n  const metadata = track || container || playbackState?.currentItem;\n  const isPlaying = playbackState?.playbackState === \"PLAYBACK_STATE_PLAYING\";\n  \n  const artwork = track?.imageUrl || container?.imageUrl || metadata?.imageUrl;\n  const title = track?.name || container?.name || metadata?.name || \"No Music Playing\";\n  \n  // Extract artist - Sonos API structure: currentItem.track.artist.name\n  const artist = \n    track?.artist?.name || \n    track?.podcast?.name || \n    container?.name || \n    \"Unknown Artist\";\n\n  const togglePlayback = async (e: React.MouseEvent) => {\n    e.stopPropagation();\n    const command = isPlaying ? \"pause\" : \"play\";\n    await fetch(`/api/sonos/control?groupId=${currentGroup.id}&command=${command}`, { method: \"POST\" });\n    refreshState();\n  };\n\n  const skip = async (e: React.MouseEvent, direction: \"skipToNextTrack\" | \"skipToPreviousTrack\") => {\n    e.stopPropagation();\n    await fetch(`/api/sonos/control?groupId=${currentGroup.id}&command=${direction}`, { method: \"POST\" });\n    refreshState();\n  };\n\n  const handleVolumeChange = (value: number[]) => {\n    setVolume(value[0]);\n  };\n\n  return (\n    <>\n      <motion.div \n        initial={{ y: 40, opacity: 0 }}\n        animate={{ y: 0, opacity: 1 }}\n        transition={{ delay: 0.8, duration: 1, ease: [0.22, 1, 0.36, 1] }}\n        onClick={() => setIsExpanded(true)}\n        className=\"h-28 glass-light rounded-[3rem] p-4 shadow-[0_40px_80px_-20px_rgba(0,0,0,0.4)] flex items-center justify-between gap-8 border border-white/10 group cursor-pointer hover:bg-white/10 dark:hover:bg-black/40 transition-all duration-700\"\n      >\n        {/* Track Info */}\n        <div className=\"flex items-center gap-6 w-[35%] min-w-0\">\n          <div className=\"h-20 w-20 rounded-[2rem] overflow-hidden flex-shrink-0 shadow-2xl relative group-hover:scale-105 transition-transform duration-700 border border-white/5 bg-secondary\">\n            {artwork ? (\n              <img src={artwork} alt={title} className=\"w-full h-full object-cover saturate-125\" />\n            ) : (\n              <div className=\"w-full h-full flex items-center justify-center\">\n                <Disc className=\"h-8 w-8 text-muted-foreground opacity-20 animate-spin-slow\" />\n              </div>\n            )}\n            {isPlaying && (\n              <div className=\"absolute inset-0 bg-black/20 backdrop-blur-[2px] flex items-center justify-center\">\n                <div className=\"flex gap-1.5 items-end h-6\">\n                  <motion.div animate={{ height: [4, 16, 8, 20, 4] }} transition={{ repeat: Infinity, duration: 1 }} className=\"w-1 bg-white rounded-full\" />\n                  <motion.div animate={{ height: [8, 4, 16, 4, 12] }} transition={{ repeat: Infinity, duration: 0.8 }} className=\"w-1 bg-white rounded-full\" />\n                  <motion.div animate={{ height: [12, 16, 4, 16, 8] }} transition={{ repeat: Infinity, duration: 1.2 }} className=\"w-1 bg-white rounded-full\" />\n                </div>\n              </div>\n            )}\n          </div>\n          <div className=\"flex flex-col min-w-0\">\n            <span className=\"font-black text-[22px] tracking-tighter truncate uppercase italic leading-none mb-1.5\">{title}</span>\n            <div className=\"flex items-center gap-3\">\n              <span className=\"text-[10px] font-black uppercase tracking-[0.2em] text-primary opacity-80\">Artist</span>\n              <span className=\"text-[13px] font-bold text-muted-foreground truncate uppercase tracking-widest opacity-50\">{artist}</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Playback Controls */}\n        <div className=\"flex items-center gap-10\">\n          <Button \n            variant=\"ghost\" \n            size=\"icon\" \n            className=\"h-14 w-14 text-muted-foreground hover:text-foreground transition-all group/btn\"\n            onClick={(e) => skip(e, \"skipToPreviousTrack\")}\n          >\n            <SkipBack className=\"h-8 w-8 fill-current transition-transform group-active/btn:scale-90\" />\n          </Button>\n          \n          <Button \n            variant=\"default\" \n            size=\"icon\" \n            className=\"h-20 w-20 rounded-[2rem] bg-foreground text-background hover:scale-105 active:scale-90 transition-all shadow-[0_20px_40px_-8px_rgba(0,0,0,0.3)] dark:shadow-primary/20 border-4 border-white/5\" \n            onClick={togglePlayback}\n          >\n            {isPlaying ? <Pause className=\"h-10 w-10 fill-current\" /> : <Play className=\"h-10 w-10 fill-current ml-1.5\" />}\n          </Button>\n          \n          <Button \n            variant=\"ghost\" \n            size=\"icon\" \n            className=\"h-14 w-14 text-muted-foreground hover:text-foreground transition-all group/btn\"\n            onClick={(e) => skip(e, \"skipToNextTrack\")}\n          >\n            <SkipForward className=\"h-8 w-8 fill-current transition-transform group-active/btn:scale-90\" />\n          </Button>\n        </div>\n\n        {/* High-End Actions */}\n        <div className=\"flex items-center justify-end gap-8 w-[35%]\">\n          <div className=\"hidden xl:flex items-center gap-6 px-6 py-4 bg-foreground/5 rounded-[2rem] border border-white/5 min-w-[240px]\" onClick={(e) => e.stopPropagation()}>\n            <Volume2 className=\"h-5 w-5 text-muted-foreground shrink-0\" />\n            <Slider value={[volume]} onValueChange={handleVolumeChange} max={100} step={1} className=\"flex-1 h-1\" />\n          </div>\n          \n          <div className=\"flex items-center gap-3 pr-4\">\n            <Button \n              variant=\"ghost\" \n              size=\"icon\" \n              className=\"h-14 w-14 rounded-[1.75rem] glass hover:bg-primary/10 transition-all group/heart\"\n            >\n              <Heart className=\"h-6 w-6 text-muted-foreground group-hover/heart:text-red-500 transition-colors\" />\n            </Button>\n            <Button \n              variant=\"secondary\" \n              size=\"icon\" \n              className=\"h-14 w-14 rounded-[1.75rem] bg-primary text-primary-foreground hover:scale-105 transition-all shadow-lg\"\n              onClick={(e) => { e.stopPropagation(); setIsExpanded(true); }}\n            >\n              <Maximize2 className=\"h-6 w-6\" />\n            </Button>\n          </div>\n        </div>\n      </motion.div>\n\n      <AnimatePresence>\n        {isExpanded && (\n          <FullScreenPlayer onClose={() => setIsExpanded(false)} />\n        )}\n      </AnimatePresence>\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3586, "column": 0}, "map": {"version":3,"sources":["file:///Users/ollie/Documents/dev/musicStreamer/src/components/dashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSonos } from \"@/components/sonos-provider\";\nimport { ZoneSelector } from \"./dashboard/zone-selector\";\nimport { FavoriteGrid } from \"./dashboard/favorite-grid\";\nimport { LibraryPage } from \"./dashboard/library-page\";\nimport { SettingsPage } from \"./dashboard/settings-page\";\nimport { MiniPlayer } from \"./player/mini-player\";\nimport { Search, Bell, Settings, Moon, Sun, Menu, X, Command } from \"lucide-react\";\nimport { useState, useEffect } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { cn } from \"@/lib/utils\";\n\nexport function Dashboard() {\n  const { currentGroup, isExpanded, currentPage, setCurrentPage } = useSonos();\n  const [isDarkMode, setIsDarkMode] = useState(true);\n  const [isSidebarOpen, setIsSidebarOpen] = useState(true);\n\n  useEffect(() => {\n    if (isDarkMode) {\n      document.documentElement.classList.add(\"dark\");\n    } else {\n      document.documentElement.classList.remove(\"dark\");\n    }\n  }, [isDarkMode]);\n\n  return (\n    <div className=\"flex h-screen bg-background text-foreground transition-colors duration-1000 overflow-hidden font-sans\">\n      {/* Subtle Background Textures */}\n      <div className=\"fixed inset-0 z-0 pointer-events-none overflow-hidden\">\n        <div className=\"absolute top-[-10%] left-[-5%] w-[50%] h-[50%] bg-primary/5 blur-[150px] rounded-full\" />\n        <div className=\"absolute bottom-[-10%] right-[-5%] w-[40%] h-[40%] bg-foreground/3 blur-[120px] rounded-full\" />\n      </div>\n\n      <AnimatePresence>\n        {isSidebarOpen && !isExpanded && (\n          <motion.aside\n            initial={{ x: -320, opacity: 0 }}\n            animate={{ x: 0, opacity: 1 }}\n            exit={{ x: -320, opacity: 0 }}\n            transition={{ type: \"spring\", damping: 35, stiffness: 250 }}\n            className=\"fixed lg:relative z-50 h-full w-[300px] flex flex-col border-r border-foreground/[0.03]\"\n          >\n            {/* Minimalist Logo */}\n            <div className=\"p-10 pb-6 shrink-0\">\n              <div className=\"flex items-center gap-3 group cursor-pointer\">\n                <div className=\"h-10 w-10 rounded-full bg-foreground flex items-center justify-center transition-all duration-500 group-hover:scale-110 shadow-lg\">\n                  <Command className=\"text-background h-5 w-5\" />\n                </div>\n                <span className=\"text-lg font-black tracking-[0.2em] uppercase italic opacity-90 leading-none\">Stream</span>\n              </div>\n            </div>\n\n            {/* Navigation & Rooms */}\n            <div className=\"flex-1 overflow-y-auto no-scrollbar py-6\">\n              <ZoneSelector isCollapsed={false} />\n            </div>\n\n            {/* Simple Controls Footer */}\n            <div className=\"p-10 shrink-0 space-y-6\">\n              <button \n                onClick={() => setIsDarkMode(!isDarkMode)}\n                className=\"w-full h-12 rounded-full border border-foreground/[0.05] hover:bg-foreground/[0.03] flex items-center justify-between px-6 transition-all duration-300 group\"\n              >\n                <span className=\"text-[10px] font-black uppercase tracking-[0.3em] opacity-40 group-hover:opacity-100 transition-opacity\">\n                  {isDarkMode ? \"Night\" : \"Day\"}\n                </span>\n                <div className=\"relative h-4 w-4\">\n                  <Sun className={cn(\"absolute inset-0 h-4 w-4 transition-all duration-700\", isDarkMode ? \"scale-0 rotate-90\" : \"scale-100 rotate-0 text-amber-500\")} />\n                  <Moon className={cn(\"absolute inset-0 h-4 w-4 transition-all duration-700\", isDarkMode ? \"scale-100 rotate-0 text-foreground\" : \"scale-0 -rotate-90\")} />\n                </div>\n              </button>\n              \n              <div className=\"flex justify-center\">\n                <p className=\"text-[8px] font-black uppercase tracking-[0.5em] opacity-20 italic\">V 1.0 Architectural</p>\n              </div>\n            </div>\n          </motion.aside>\n        )}\n      </AnimatePresence>\n\n      <main className=\"flex-1 flex flex-col h-full relative z-10 overflow-hidden\">\n        {/* Editorial Header */}\n        {!isExpanded && (\n          <header className=\"h-32 px-12 lg:px-20 flex items-center justify-between shrink-0\">\n            <div className=\"flex items-center gap-10\">\n              <button \n                onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n                className=\"h-10 w-10 rounded-full border border-foreground/[0.05] hover:bg-foreground/[0.03] flex items-center justify-center transition-all group relative overflow-hidden\"\n              >\n                <Menu className={cn(\"h-4 w-4 transition-transform duration-500\", isSidebarOpen ? \"translate-y-10 scale-0\" : \"translate-y-0 scale-100\")} />\n                <X className={cn(\"absolute h-4 w-4 transition-transform duration-500\", isSidebarOpen ? \"translate-y-0 scale-100\" : \"-translate-y-10 scale-0\")} />\n              </button>\n              \n              <AnimatePresence mode=\"wait\">\n                <motion.div\n                  key={currentGroup?.id || \"empty\"}\n                  initial={{ opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  exit={{ opacity: 0, y: -10 }}\n                  className=\"space-y-0.5\"\n                >\n                  <p className=\"text-[9px] font-black uppercase tracking-[0.6em] text-primary opacity-40\">Environment</p>\n                  <h2 className=\"text-4xl lg:text-5xl font-black tracking-tighter italic uppercase leading-none opacity-90\">\n                    {currentGroup?.name || \"Lobby\"}\n                  </h2>\n                </motion.div>\n              </AnimatePresence>\n            </div>\n\n            <div className=\"hidden md:flex items-center gap-8\">\n              <div className=\"flex items-center bg-foreground/[0.03] rounded-full px-6 h-12 w-72 border border-foreground/[0.05] focus-within:border-foreground/20 transition-all\">\n                <Search className=\"h-4 w-4 text-muted-foreground mr-4 opacity-40\" />\n                <input \n                  type=\"text\" \n                  placeholder=\"Search...\" \n                  className=\"bg-transparent border-none outline-none text-xs w-full font-bold placeholder:text-muted-foreground/30 uppercase tracking-widest\"\n                />\n              </div>\n              <div className=\"flex gap-4\">\n                <button className=\"h-10 w-10 rounded-full border border-foreground/[0.05] hover:bg-foreground/[0.03] flex items-center justify-center transition-all opacity-40 hover:opacity-100\">\n                  <Bell className=\"h-4 w-4\" />\n                </button>\n                <button \n                  onClick={() => setCurrentPage(\"Settings\")}\n                  className={cn(\n                    \"h-10 w-10 rounded-full border border-foreground/[0.05] hover:bg-foreground/[0.03] flex items-center justify-center transition-all\",\n                    currentPage === \"Settings\" ? \"opacity-100 bg-foreground/[0.05]\" : \"opacity-40 hover:opacity-100\"\n                  )}\n                >\n                  <Settings className=\"h-4 w-4\" />\n                </button>\n              </div>\n            </div>\n          </header>\n        )}\n\n        {/* Cinematic Gallery Grid */}\n        <section className={cn(\n          \"flex-1 overflow-y-auto no-scrollbar pt-4 pb-48\",\n          !isExpanded ? \"px-12 lg:px-20\" : \"px-0\"\n        )}>\n          {!isExpanded && (\n            <>\n              {currentPage === \"Feed\" && <FavoriteGrid />}\n              {currentPage === \"Library\" && <LibraryPage />}\n              {currentPage === \"Settings\" && <SettingsPage />}\n              {currentPage === \"Broadcast\" && (\n                <div className=\"flex items-center justify-center h-full\">\n                  <p className=\"text-muted-foreground uppercase tracking-widest\">Broadcast Coming Soon</p>\n                </div>\n              )}\n              {currentPage === \"Curated\" && (\n                <div className=\"flex items-center justify-center h-full\">\n                  <p className=\"text-muted-foreground uppercase tracking-widest\">Curated Coming Soon</p>\n                </div>\n              )}\n            </>\n          )}\n        </section>\n\n        {/* Floating Controller Hub */}\n        <div className=\"absolute bottom-12 left-0 right-0 px-12 lg:px-20 pointer-events-none\">\n          <div className=\"max-w-6xl mx-auto pointer-events-auto\">\n            <MiniPlayer />\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4062, "column": 0}, "map": {"version":3,"sources":["file:///Users/ollie/Documents/dev/musicStreamer/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { useSearchParams, useRouter } from \"next/navigation\";\nimport { Dashboard } from \"@/components/dashboard\";\nimport { useSonos } from \"@/components/sonos-provider\";\n\nexport default function Home() {\n  const searchParams = useSearchParams();\n  const router = useRouter();\n  const { setCurrentPage } = useSonos();\n\n  useEffect(() => {\n    const spotifyConnected = searchParams.get(\"spotify_connected\");\n    const error = searchParams.get(\"error\");\n\n    if (spotifyConnected === \"true\") {\n      // Redirect to Settings page after successful connection\n      setCurrentPage(\"Settings\");\n      router.replace(\"/\");\n    } else if (error) {\n      // Show error, redirect to Settings\n      setCurrentPage(\"Settings\");\n      router.replace(\"/\");\n    }\n  }, [searchParams, router, setCurrentPage]);\n\n  return <Dashboard />;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,eAAe,IAAA,qJAAe;IACpC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,cAAc,EAAE,GAAG,IAAA,mJAAQ;IAEnC,IAAA,kNAAS,EAAC;QACR,MAAM,mBAAmB,aAAa,GAAG,CAAC;QAC1C,MAAM,QAAQ,aAAa,GAAG,CAAC;QAE/B,IAAI,qBAAqB,QAAQ;YAC/B,wDAAwD;YACxD,eAAe;YACf,OAAO,OAAO,CAAC;QACjB,OAAO,IAAI,OAAO;YAChB,mCAAmC;YACnC,eAAe;YACf,OAAO,OAAO,CAAC;QACjB;IACF,GAAG;QAAC;QAAc;QAAQ;KAAe;IAEzC,qBAAO,8OAAC,4IAAS;;;;;AACnB"}}]
}