{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/ollie/Documents/dev/musicStreamer/src/app/api/spotify/auth/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { prisma } from \"@/lib/db\";\n\nconst SPOTIFY_CLIENT_ID = process.env.SPOTIFY_CLIENT_ID;\nconst SPOTIFY_CLIENT_SECRET = process.env.SPOTIFY_CLIENT_SECRET;\nconst SPOTIFY_REDIRECT_URI = process.env.SPOTIFY_REDIRECT_URI || \"https://lvh.me:3000/api/spotify/callback\";\n\nexport async function GET(request: NextRequest) {\n  if (!SPOTIFY_CLIENT_ID || !SPOTIFY_CLIENT_SECRET) {\n    return NextResponse.json({ \n      error: \"Spotify credentials not configured\",\n      message: \"Please add SPOTIFY_CLIENT_ID and SPOTIFY_CLIENT_SECRET to .env\"\n    }, { status: 500 });\n  }\n\n  const scopes = [\n    \"user-read-private\",\n    \"user-read-email\",\n    \"user-library-read\",\n    \"user-read-recently-played\",\n    \"playlist-read-private\",\n    \"playlist-read-collaborative\",\n    \"user-read-playback-state\",\n  ].join(\" \");\n\n  const params = new URLSearchParams({\n    client_id: SPOTIFY_CLIENT_ID,\n    response_type: \"code\",\n    redirect_uri: SPOTIFY_REDIRECT_URI,\n    scope: scopes,\n    state: \"spotify-auth\",\n  });\n\n  const authUrl = `https://accounts.spotify.com/authorize?${params.toString()}`;\n  \n  return NextResponse.json({ authUrl });\n}\n"],"names":[],"mappings":";;;;AAAA;;AAGA,MAAM,oBAAoB,QAAQ,GAAG,CAAC,iBAAiB;AACvD,MAAM,wBAAwB,QAAQ,GAAG,CAAC,qBAAqB;AAC/D,MAAM,uBAAuB,QAAQ,GAAG,CAAC,oBAAoB,IAAI;AAE1D,eAAe,IAAI,OAAoB;IAC5C,IAAI,CAAC,qBAAqB,CAAC,uBAAuB;QAChD,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,OAAO;YACP,SAAS;QACX,GAAG;YAAE,QAAQ;QAAI;IACnB;IAEA,MAAM,SAAS;QACb;QACA;QACA;QACA;QACA;QACA;QACA;KACD,CAAC,IAAI,CAAC;IAEP,MAAM,SAAS,IAAI,gBAAgB;QACjC,WAAW;QACX,eAAe;QACf,cAAc;QACd,OAAO;QACP,OAAO;IACT;IAEA,MAAM,UAAU,CAAC,uCAAuC,EAAE,OAAO,QAAQ,IAAI;IAE7E,OAAO,gJAAY,CAAC,IAAI,CAAC;QAAE;IAAQ;AACrC"}}]
}