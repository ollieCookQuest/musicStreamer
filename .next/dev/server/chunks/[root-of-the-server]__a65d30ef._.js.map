{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/ollie/Documents/dev/musicStreamer/src/lib/db.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\n\nconst globalForPrisma = global as unknown as { prisma: PrismaClient };\n\nexport const prisma =\n  globalForPrisma.prisma ||\n  new PrismaClient({\n    log: [\"query\"],\n  });\n\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AAEC,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,sMAAY,CAAC;IACf,KAAK;QAAC;KAAQ;AAChB;AAEF,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///Users/ollie/Documents/dev/musicStreamer/src/app/api/preferences/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { prisma } from \"@/lib/db\";\n\nexport async function GET(request: NextRequest) {\n  const key = request.nextUrl.searchParams.get(\"key\");\n  \n  if (!key) {\n    return NextResponse.json({ error: \"Missing key\" }, { status: 400 });\n  }\n\n  try {\n    const preference = await prisma.preference.findUnique({\n      where: { key },\n    });\n\n    return NextResponse.json({ \n      value: preference?.value || null \n    });\n  } catch (error) {\n    console.error(\"Preference API error:\", error);\n    return NextResponse.json({ error: \"Failed to fetch preference\" }, { status: 500 });\n  }\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    const { key, value } = await request.json();\n\n    if (!key) {\n      return NextResponse.json({ error: \"Missing key\" }, { status: 400 });\n    }\n\n    const preference = await prisma.preference.upsert({\n      where: { key },\n      update: { value: value || \"\" },\n      create: { key, value: value || \"\" },\n    });\n\n    return NextResponse.json({ success: true, preference });\n  } catch (error) {\n    console.error(\"Preference API error:\", error);\n    return NextResponse.json({ error: \"Failed to save preference\" }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAoB;IAC5C,MAAM,MAAM,QAAQ,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC;IAE7C,IAAI,CAAC,KAAK;QACR,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAc,GAAG;YAAE,QAAQ;QAAI;IACnE;IAEA,IAAI;QACF,MAAM,aAAa,MAAM,4HAAM,CAAC,UAAU,CAAC,UAAU,CAAC;YACpD,OAAO;gBAAE;YAAI;QACf;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,OAAO,YAAY,SAAS;QAC9B;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA6B,GAAG;YAAE,QAAQ;QAAI;IAClF;AACF;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEzC,IAAI,CAAC,KAAK;YACR,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAc,GAAG;gBAAE,QAAQ;YAAI;QACnE;QAEA,MAAM,aAAa,MAAM,4HAAM,CAAC,UAAU,CAAC,MAAM,CAAC;YAChD,OAAO;gBAAE;YAAI;YACb,QAAQ;gBAAE,OAAO,SAAS;YAAG;YAC7B,QAAQ;gBAAE;gBAAK,OAAO,SAAS;YAAG;QACpC;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM;QAAW;IACvD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA4B,GAAG;YAAE,QAAQ;QAAI;IACjF;AACF"}}]
}